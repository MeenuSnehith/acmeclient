(function(){"use strict";var e={8235:function(e,t,l){var a=l(9963),i=l(6252),o=l(7718),s=l(3140);const n=(0,i._)("br",null,null,-1);function r(e,t,l,a,r,d){const u=(0,i.up)("NavBar"),c=(0,i.up)("router-view");return(0,i.wg)(),(0,i.j4)(o.q,null,{default:(0,i.w5)((()=>[(0,i.Wm)(s.O,null,{default:(0,i.w5)((()=>[((0,i.wg)(),(0,i.j4)(u,{key:this.$store.state.isUserLoggedIn})),n,(0,i.Wm)(c)])),_:1})])),_:1})}var d=l(3577),u=l(6281),c=l(1556),m=l(7312),h=l(3369),p=l(3289);const g={class:"text-center"},w={class:"text-center"};function f(e,t,l,o,s,n){return(0,i.wg)(),(0,i.j4)(h.K,null,{default:(0,i.w5)((()=>[(0,i._)("div",null,[(0,i.Wm)(u.L,{color:"primary",density:"compact"},{prepend:(0,i.w5)((()=>[(0,i.Wm)(m.T,{color:"white",icon:"mdi-home",variant:"text",to:"/"})])),append:(0,i.w5)((()=>[(0,i.wy)((0,i._)("div",g,[(0,i.Wm)(m.T,{"prepend-icon":"mdi-account-circle",to:"/login"},{prepend:(0,i.w5)((()=>[(0,i.Wm)(p.t,{color:"warning"})])),default:(0,i.w5)((()=>[(0,i.Uk)(" Login ")])),_:1}),(0,i.Wm)(m.T,{"prepend-icon":"mdi-account-circle",to:"/register"},{prepend:(0,i.w5)((()=>[(0,i.Wm)(p.t,{color:"warning"})])),default:(0,i.w5)((()=>[(0,i.Uk)(" Register ")])),_:1})],512),[[a.F8,!e.isUserLoggedIn]]),(0,i.wy)((0,i._)("div",w,[(0,i.Wm)(m.T,{"prepend-icon":"mdi-account-circle"},{prepend:(0,i.w5)((()=>[(0,i.Wm)(p.t,{color:"warning"})])),default:(0,i.w5)((()=>[(0,i.Uk)(" "+(0,d.zw)(e.UserName),1)])),_:1}),(0,i.Wm)(m.T,{"prepend-icon":"mdi-account-circle",onClick:n.logout},{prepend:(0,i.w5)((()=>[(0,i.Wm)(p.t,{color:"warning"})])),default:(0,i.w5)((()=>[(0,i.Uk)(" Log out ")])),_:1},8,["onClick"])],512),[[a.F8,e.isUserLoggedIn]])])),default:(0,i.w5)((()=>[(0,i.Wm)(c.o,null,{default:(0,i.w5)((()=>[(0,i.Uk)("Welcom to Tour Advisor")])),_:1})])),_:1})])])),_:1})}l(7658);var y=l(3907),_=l(1489),W=l(3144),v=l(9870),L=l(6161),U=l(4722);function I(e,t,l,o,s,n){const r=(0,i.up)("AllTrips"),d=(0,i.up)("MyTrips"),u=(0,i.up)("AddTrip"),c=(0,i.up)("AllLocations"),m=(0,i.up)("AllHotels"),h=(0,i.up)("AllNotifications");return(0,i.wg)(),(0,i.j4)(_._,null,{default:(0,i.w5)((()=>[(0,i.Wm)(W.d,{modelValue:e.tab,"onUpdate:modelValue":t[0]||(t[0]=t=>e.tab=t),color:"deep-purple-accent-4","align-tabs":"start"},{default:(0,i.w5)((()=>[(0,i.Wm)(v.L,{value:1},{default:(0,i.w5)((()=>[(0,i.Uk)("All Trips")])),_:1}),(0,i.wy)((0,i.Wm)(v.L,{value:2},{default:(0,i.w5)((()=>[(0,i.Uk)("My Trip")])),_:1},512),[[a.F8,this.$store.state.isUserLoggedIn&&"Admin"!=this.$store.state.permission]]),(0,i.wy)((0,i.Wm)(v.L,{value:3},{default:(0,i.w5)((()=>[(0,i.Uk)("Add Trip")])),_:1},512),[[a.F8,"Admin"==this.$store.state.permission]]),(0,i.wy)((0,i.Wm)(v.L,{value:4},{default:(0,i.w5)((()=>[(0,i.Uk)("Locations")])),_:1},512),[[a.F8,"Admin"==this.$store.state.permission]]),(0,i.wy)((0,i.Wm)(v.L,{value:5},{default:(0,i.w5)((()=>[(0,i.Uk)("Hotels")])),_:1},512),[[a.F8,"Admin"==this.$store.state.permission]]),(0,i.Wm)(v.L,{value:6},{default:(0,i.w5)((()=>[(0,i.Uk)("Notifications")])),_:1})])),_:1},8,["modelValue"]),(0,i.Wm)(L.Oo,{modelValue:e.tab,"onUpdate:modelValue":t[1]||(t[1]=t=>e.tab=t)},{default:(0,i.w5)((()=>[((0,i.wg)(),(0,i.j4)(U.H,{key:1,value:1},{default:(0,i.w5)((()=>[(0,i.Wm)(r)])),_:1})),((0,i.wg)(),(0,i.j4)(U.H,{key:2,value:2},{default:(0,i.w5)((()=>[(0,i.Wm)(d)])),_:1})),((0,i.wg)(),(0,i.j4)(U.H,{key:3,value:3},{default:(0,i.w5)((()=>[(0,i.Wm)(u)])),_:1})),((0,i.wg)(),(0,i.j4)(U.H,{key:4,value:4},{default:(0,i.w5)((()=>[(0,i.Wm)(c)])),_:1})),((0,i.wg)(),(0,i.j4)(U.H,{key:5,value:5},{default:(0,i.w5)((()=>[(0,i.Wm)(m)])),_:1})),((0,i.wg)(),(0,i.j4)(U.H,{key:6,value:6},{default:(0,i.w5)((()=>[(0,i.Wm)(h)])),_:1}))])),_:1},8,["modelValue"])])),_:1})}var b=l(6572),D=l(6422),k=l(6824),T=l(8521),V=l(8694),H=l(4286),O=l(9671),A=l(165),x=l(4842);const R=(0,i._)("h4",{class:"text-center"},"Please fill Trip details",-1),C=(0,i._)("br",null,null,-1);function N(e,t,l,o,s,n){return(0,i.wg)(),(0,i.j4)(H.C,null,{default:(0,i.w5)((()=>[(0,i.Wm)(_._,{class:"mx-auto px-6 py-8","max-width":"100%"},{default:(0,i.w5)((()=>[(0,i.Wm)(D.O,{modelValue:e.form,"onUpdate:modelValue":t[9]||(t[9]=t=>e.form=t),onSubmit:(0,a.iM)(n.onSubmit,["prevent"])},{default:(0,i.w5)((()=>[R,(0,i.Wm)(h.K,null,{default:(0,i.w5)((()=>[(0,i.Wm)(k.o,null,{default:(0,i.w5)((()=>[(0,i.Wm)(T.D,{cols:"12",md:"8"},{default:(0,i.w5)((()=>[(0,i.Wm)(A.h,{modelValue:e.title,"onUpdate:modelValue":t[0]||(t[0]=t=>e.title=t),readonly:e.loading,rules:[n.required],clearable:"",label:"Title"},null,8,["modelValue","readonly","rules"])])),_:1}),(0,i.Wm)(T.D,{cols:"12",md:"4"},{default:(0,i.w5)((()=>[(0,i.Wm)(A.h,{modelValue:e.cost,"onUpdate:modelValue":t[1]||(t[1]=t=>e.cost=t),readonly:e.loading,rules:[n.required],label:"Cost per Person (in $)",type:"number"},null,8,["modelValue","readonly","rules"])])),_:1})])),_:1}),(0,i.Wm)(k.o,null,{default:(0,i.w5)((()=>[(0,i.Wm)(T.D,{cols:"12",md:"12"},{default:(0,i.w5)((()=>[(0,i.Wm)(A.h,{modelValue:e.location,"onUpdate:modelValue":t[2]||(t[2]=t=>e.location=t),readonly:e.loading,rules:[n.required],clearable:"",label:"Location"},null,8,["modelValue","readonly","rules"])])),_:1})])),_:1}),(0,i.Wm)(k.o,null,{default:(0,i.w5)((()=>[(0,i.Wm)(T.D,{cols:"12",md:"2"},{default:(0,i.w5)((()=>[(0,i.Wm)(A.h,{modelValue:e.days,"onUpdate:modelValue":t[3]||(t[3]=t=>e.days=t),readonly:e.loading,rules:[n.required],clearable:"",label:"No of Days",type:"number"},null,8,["modelValue","readonly","rules"])])),_:1}),(0,i.Wm)(T.D,{cols:"12",md:"2"},{default:(0,i.w5)((()=>[(0,i.Wm)(A.h,{modelValue:e.nights,"onUpdate:modelValue":t[4]||(t[4]=t=>e.nights=t),readonly:e.loading,rules:[n.required],label:"No of Nights",type:"number"},null,8,["modelValue","readonly","rules"])])),_:1}),(0,i.Wm)(T.D,{cols:"12",md:"4"},{default:(0,i.w5)((()=>[(0,i.Wm)(A.h,{modelValue:e.from,"onUpdate:modelValue":t[5]||(t[5]=t=>e.from=t),readonly:e.loading,rules:[n.required],type:"date",label:"From date"},null,8,["modelValue","readonly","rules"])])),_:1}),(0,i.Wm)(T.D,{cols:"12",md:"4"},{default:(0,i.w5)((()=>[(0,i.Wm)(A.h,{modelValue:e.to,"onUpdate:modelValue":t[6]||(t[6]=t=>e.to=t),readonly:e.loading,rules:[n.required],type:"date",label:"To date"},null,8,["modelValue","readonly","rules"])])),_:1})])),_:1}),(0,i.Wm)(k.o,null,{default:(0,i.w5)((()=>[(0,i.Wm)(T.D,{cols:"12",md:"12"},{default:(0,i.w5)((()=>[(0,i.Wm)(x.z,{modelValue:e.decription,"onUpdate:modelValue":t[7]||(t[7]=t=>e.decription=t),readonly:e.loading,rules:[n.required],class:"mb-2",clearable:"",label:"Description"},null,8,["modelValue","readonly","rules"])])),_:1})])),_:1}),(0,i.Wm)(k.o,null,{default:(0,i.w5)((()=>[(0,i.Wm)(T.D,{cols:"12"},{default:(0,i.w5)((()=>[(0,i.Wm)(_._,null,{default:(0,i.w5)((()=>[(0,i.Wm)(V.f,{src:e.URL,"max-height":"350",class:"bg-grey-lighten-2"},null,8,["src"]),(0,i.Wm)(b.E,{class:"text-h6"},{default:(0,i.w5)((()=>[(0,i.Wm)(A.h,{modelValue:e.URL,"onUpdate:modelValue":t[8]||(t[8]=t=>e.URL=t),readonly:e.loading,class:"mb-2",clearable:"",label:"Thumbnail URL"},null,8,["modelValue","readonly"])])),_:1})])),_:1})])),_:1})])),_:1}),(0,i.Wm)(k.o,null,{default:(0,i.w5)((()=>[(0,i.Wm)(T.D,{cols:"12",md:"5"}),(0,i.Wm)(T.D,{cols:"12",md:"2"},{default:(0,i.w5)((()=>[(0,i.Wm)(m.T,{disabled:!e.form,loading:e.loading,block:"",color:"primary",size:"large",type:"submit",variant:"elevated",rounded:"xl",onClick:n.addNewTrip},{default:(0,i.w5)((()=>[(0,i.Uk)(" Add ")])),_:1},8,["disabled","loading","onClick"])])),_:1})])),_:1})])),_:1}),C])),_:1},8,["modelValue","onSubmit"])])),_:1}),(0,i.Wm)(O.v,{modelValue:e.snackbar,"onUpdate:modelValue":t[10]||(t[10]=t=>e.snackbar=t),timeout:e.timeout},{default:(0,i.w5)((()=>[(0,i.Uk)(" Registeration Success. Please wait while redirecting... ")])),_:1},8,["modelValue","timeout"]),(0,i.Wm)(O.v,{modelValue:e.snackbar,"onUpdate:modelValue":t[11]||(t[11]=t=>e.snackbar=t),timeout:e.timeout},{default:(0,i.w5)((()=>[(0,i.Uk)(" Trip added Successfully. ")])),_:1},8,["modelValue","timeout"])])),_:1})}var z=l(6154),j=()=>z.Z.create({baseURL:"http://localhost:8081/"}),M={addTrip(e){return j().post("/addtrip",e)},getAllTrips(){return j().get("/gettrips")},getTrip(e){return j().post("/gettrip",e)},UpdateTrip(e){return j().post("/updatetrip",e)},getAllJoinedTrips(e){return j().post("/getjoinedtripdetails",e)},deleteTrip(e){return j().delete("/deletetripdetails/"+e)}},G={data:()=>({form:!1,title:null,cost:null,decription:null,to:null,from:null,nights:null,days:null,location:null,URL:"",loading:!1,snackbar:!1,timeout:2e3}),methods:{onSubmit(){this.form&&(this.loading=!0,setTimeout((()=>this.loading=!1),2e3))},required(e){return!!e||"Field is required"},async addNewTrip(){try{await M.addTrip({tripTitle:this.title,location:this.location,days:this.days,nights:this.nights,costperperson:this.cost,fromdate:this.from,todate:this.to,description:this.decription,thumbnailURL:this.URL}).then((e=>{console.log(e),"OK"==e.statusText&&(this.$store.commit("seteditTripId",e.data.id),this.clearFields(),this.snackbar=!0,setTimeout((()=>nl.push("/updatetrip")),1e3))}))}catch(e){console.log(e),console.log(e.response.data.error),this.showError(e.response.data.error)}},clearFields(){this.title="",this.location="",this.days="",this.nights="",this.cost="",this.from="",this.to="",this.decription=""}},watch:{}},S=l(3744);const E=(0,S.Z)(G,[["render",N]]);var $=E,F=l(1209),q=l(1332),J=l(1888),P=l(1334),Z=l(9756),K=l(3173);const Y=(0,i._)("br",null,null,-1),B=(0,i._)("br",null,null,-1);function Q(e,t,l,a,o,s){return(0,i.wg)(),(0,i.iD)("div",{key:e.trips},[(0,i.Wm)(k.o,{class:"text-right"},{default:(0,i.w5)((()=>[(0,i.Wm)(T.D,{col:"12",mb:"2"},{default:(0,i.w5)((()=>[(0,i.Wm)(m.T,{"prepend-icon":"mdi-account-circle",onClick:t[0]||(t[0]=t=>e.refreshAllTrips=!e.refreshAllTrips)},{prepend:(0,i.w5)((()=>[(0,i.Wm)(p.t,{color:"primary"},{default:(0,i.w5)((()=>[(0,i.Uk)("mdi-refresh")])),_:1})])),default:(0,i.w5)((()=>[(0,i.Uk)(" Refresh ")])),_:1})])),_:1})])),_:1}),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.trips,(e=>((0,i.wg)(),(0,i.iD)("div",{class:"d-flex align-center flex-column",key:e.id},[Y,(0,i.Wm)(_._,{width:"60%"},{default:(0,i.w5)((()=>[(0,i.Wm)(V.f,{src:e.thumbnailURL,height:"200px",cover:""},null,8,["src"]),(0,i.Wm)(F._,null,{default:(0,i.w5)((()=>[(0,i.Wm)(b.E,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,d.zw)(e.tripTitle),1)])),_:2},1024),(0,i.Wm)(q.Q,null,{default:(0,i.w5)((()=>[(0,i.Uk)("Location: "+(0,d.zw)(e.location),1)])),_:2},1024)])),_:2},1024),(0,i.Wm)(J.Z,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,d.zw)(e.description)+" ",1),(0,i._)("p",null," Days: "+(0,d.zw)(e.days)+" --- Nights: "+(0,d.zw)(e.nights)+" ---- from: "+(0,d.zw)(e.fromdate)+" - to: "+(0,d.zw)(e.todate),1)])),_:2},1024),(0,i.Wm)(P.h,null,{default:(0,i.w5)((()=>[(0,i.Wm)(m.T,{class:"ms-2",variant:"outlined",size:"small",onClick:t=>s.openTrip(e.id)},{default:(0,i.w5)((()=>[(0,i.Uk)(" View Trip ")])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024),B])))),128)),(0,i.Wm)(Z.y,{"model-value":e.loadingOverlay,class:"align-center justify-center",persistent:e.diableOverlay},{default:(0,i.w5)((()=>[(0,i.Wm)(K.L,{color:"primary",indeterminate:"",size:"64"})])),_:1},8,["model-value","persistent"])])}var X={data:()=>({trips:null,refreshAllTrips:!1,loadingOverlay:!1,diableOverlay:!0}),methods:{async GetAllTrips(){await M.getAllTrips().then((e=>{this.trips=e.data,this.loadingOverlay=!1})),console.log(this.trips)},openTrip(e){this.$store.commit("setviewTripId",e),nl.push("/viewtrip")}},beforeMount(){this.loadingOverlay=!0,this.GetAllTrips()},watch:{refreshAllTrips:function(){this.loadingOverlay=!0,this.trips=[],console.log(this.refreshAllTrips),this.GetAllTrips()}}};const ee=(0,S.Z)(X,[["render",Q]]);var te=ee;const le=(0,i._)("br",null,null,-1),ae=(0,i._)("br",null,null,-1);function ie(e,t,l,a,o,s){return(0,i.wg)(),(0,i.iD)("div",{key:e.trips},[(0,i.Wm)(k.o,{class:"text-right"},{default:(0,i.w5)((()=>[(0,i.Wm)(T.D,{col:"12",mb:"2"},{default:(0,i.w5)((()=>[(0,i.Wm)(m.T,{"prepend-icon":"mdi-account-circle",onClick:t[0]||(t[0]=t=>e.refreshAllTrips=!e.refreshAllTrips)},{prepend:(0,i.w5)((()=>[(0,i.Wm)(p.t,{color:"primary"},{default:(0,i.w5)((()=>[(0,i.Uk)("mdi-refresh")])),_:1})])),default:(0,i.w5)((()=>[(0,i.Uk)(" Refresh ")])),_:1})])),_:1})])),_:1}),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.trips,(e=>((0,i.wg)(),(0,i.iD)("div",{class:"d-flex align-center flex-column",key:e},[le,(0,i.Wm)(_._,{width:"60%"},{default:(0,i.w5)((()=>[(0,i.Wm)(V.f,{src:e.thumbnailURL,height:"200px",cover:""},null,8,["src"]),(0,i.Wm)(F._,null,{default:(0,i.w5)((()=>[(0,i.Wm)(b.E,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,d.zw)(e.tripTitle),1)])),_:2},1024),(0,i.Wm)(q.Q,null,{default:(0,i.w5)((()=>[(0,i.Uk)("Location: "+(0,d.zw)(e.location),1)])),_:2},1024)])),_:2},1024),(0,i.Wm)(J.Z,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,d.zw)(e.description)+" ",1),(0,i._)("p",null," Days: "+(0,d.zw)(e.days)+" --- Nights: "+(0,d.zw)(e.nights)+" ---- from: "+(0,d.zw)(e.fromdate)+" - to: "+(0,d.zw)(e.todate),1)])),_:2},1024),(0,i.Wm)(P.h,null,{default:(0,i.w5)((()=>[(0,i.Wm)(m.T,{class:"ms-2",variant:"outlined",size:"small",onClick:t=>s.openTrip(e.id)},{default:(0,i.w5)((()=>[(0,i.Uk)(" View Trip ")])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024),ae])))),128))])}var oe={addJoinedTrip(e){return j().post("/addjoinedtrip",e)},getAllJoinedTrips(e){return j().post("/getjoinedtrips",e)},getAllRequestedTrips(){return j().get("/getRequestedtrip")},getJoinedTripUsers(e){return j().get("/getjoinedtripusers/"+e)},checkIsJoinedTrips(e){return j().post("/checkisjoinedtrips",e)},updateStatus(e,t){return j().put("/updatejoinedtrip/"+e,t)}},se={data:()=>({trips:[],refreshAllTrips:!1}),methods:{GetJoinedTripDetails(){this.GetJoinedTrips(),this.trips.forEach((e=>{console.log("trips : "+e)}))},async GetJoinedTrips(){await oe.getAllJoinedTrips({userID:this.$store.state.username}).then((e=>{e.data.forEach((e=>{this.GetAllTrips(e)}))})),console.log(this.trips)},async GetAllTrips(e){""!=e.tripID&&await M.getAllJoinedTrips({id:e.tripID,status:"joined"}).then((e=>{console.log(e.data[0]),this.trips.push({id:e.data[0].id,tripTitle:""!=e.data[0].tripTitle?e.data[0].tripTitle:"",location:""!=e.data[0].location?e.data[0].location:"",days:""!=e.data[0].days?e.data[0].days:"",nights:""!=e.data[0].nights?e.data[0].nights:"",costperperson:""!=e.data[0].costperperson?e.data[0].costperperson:"",fromdate:""!=e.data[0].fromdate?e.data[0].fromdate:"",todate:""!=e.data[0].todate?e.data[0].todate:"",description:""!=e.data[0].description?e.data[0].description:"",thumbnailURL:""!=e.data[0].thumbnailURL?e.data[0].thumbnailURL:""})}))},openTrip(e){this.$store.commit("setviewTripId",e),nl.push("/viewtrip")}},beforeMount(){this.GetJoinedTripDetails()},watch:{refreshAllTrips:function(){this.trips=[],console.log(this.refreshAllTrips),this.GetJoinedTripDetails()}}};const ne=(0,S.Z)(se,[["render",ie]]);var re=ne,de=l(652),ue=l(4075),ce=l(9457),me=l(2127),he=l(794);const pe=(0,i._)("br",null,null,-1),ge=(0,i._)("br",null,null,-1),we=(0,i._)("br",null,null,-1),fe=(0,i._)("br",null,null,-1);function ye(e,t,l,o,s,n){return(0,i.wg)(),(0,i.iD)("div",{key:e.trips},[(0,i.Wm)(k.o,{class:"text-right"},{default:(0,i.w5)((()=>[(0,i.Wm)(T.D,{col:"12",mb:"2"},{default:(0,i.w5)((()=>[(0,i.Wm)(m.T,{"prepend-icon":"mdi-account-circle",onClick:t[0]||(t[0]=t=>e.refreshAllTrips=!e.refreshAllTrips)},{prepend:(0,i.w5)((()=>[(0,i.Wm)(p.t,{color:"primary"},{default:(0,i.w5)((()=>[(0,i.Uk)("mdi-refresh")])),_:1})])),default:(0,i.w5)((()=>[(0,i.Uk)(" Refresh ")])),_:1})])),_:1})])),_:1}),pe,(0,i.Wm)(_._,{class:"mx-auto px-10 py-8",width:"90%",height:"700"},{default:(0,i.w5)((()=>[(0,i.Wm)(k.o,null,{default:(0,i.w5)((()=>[(0,i.Wm)(T.D,{cols:"6"},{default:(0,i.w5)((()=>[(0,i.Wm)(A.h,{modelValue:e.createLocIMG,"onUpdate:modelValue":t[1]||(t[1]=t=>e.createLocIMG=t),class:"mb-2",clearable:"",label:"Location Image URL"},null,8,["modelValue"])])),_:1}),(0,i.Wm)(T.D,{cols:"6"},{default:(0,i.w5)((()=>[(0,i.Wm)(A.h,{modelValue:e.createLoc,"onUpdate:modelValue":t[2]||(t[2]=t=>e.createLoc=t),class:"mb-2",clearable:"",label:"Location"},null,8,["modelValue"])])),_:1})])),_:1}),(0,i.Wm)(k.o,null,{default:(0,i.w5)((()=>[(0,i.Wm)(T.D,{cols:"12"},{default:(0,i.w5)((()=>[(0,i.Wm)(A.h,{modelValue:e.createLocDes,"onUpdate:modelValue":t[3]||(t[3]=t=>e.createLocDes=t),class:"mb-2",clearable:"",label:"Description"},null,8,["modelValue"])])),_:1})])),_:1}),(0,i.Wm)(k.o,null,{default:(0,i.w5)((()=>[(0,i.Wm)(T.D,{cols:"12"},{default:(0,i.w5)((()=>[(0,i.Wm)(m.T,{size:"large",value:"AddNewLocation",onClick:t[4]||(t[4]=e=>n.createLocation())},{default:(0,i.w5)((()=>[(0,i.Wm)(p.t,null,{default:(0,i.w5)((()=>[(0,i.Uk)("mdi-plus-circle-outline")])),_:1}),(0,i.Uk)(" Add Location ")])),_:1})])),_:1})])),_:1}),ge,(0,i.Wm)(ue.J),we,(0,i.Wm)(he.t,{items:e.allLoc,height:"300","item-height":"50"},{default:(0,i.w5)((({item:e})=>[(0,i.Wm)(ce.l,null,{prepend:(0,i.w5)((()=>[(0,i.Wm)(de.V,{rounded:"0",image:e.ImageURL,class:"text-white",size:"90"},null,8,["image"])])),append:(0,i.w5)((()=>[(0,i.Wm)(m.T,{size:"small",variant:"tonal",onClick:t=>n.editLocation(e)},{default:(0,i.w5)((()=>[(0,i.Wm)(p.t,{color:"orange-darken-4",end:""},{default:(0,i.w5)((()=>[(0,i.Uk)(" mdi-pencil ")])),_:1}),(0,i.Uk)("  Edit ")])),_:2},1032,["onClick"]),(0,i.Uk)("   "),(0,i.Wm)(m.T,{size:"small",variant:"tonal",onClick:t=>n.deleteLocation(e)},{default:(0,i.w5)((()=>[(0,i.Wm)(p.t,{color:"orange-darken-4",end:""},{default:(0,i.w5)((()=>[(0,i.Uk)(" mdi-delete-empty ")])),_:1}),(0,i.Uk)("  Delete ")])),_:2},1032,["onClick"])])),default:(0,i.w5)((()=>[(0,i.Wm)(me.V,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,d.zw)(e.Address),1)])),_:2},1024),(0,i.Wm)(me.V,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,d.zw)(e.Description),1)])),_:2},1024)])),_:2},1024)])),_:1},8,["items"])])),_:1}),(0,i.Wm)(Z.y,{"model-value":e.editOverlay,class:"align-center justify-center"},{default:(0,i.w5)((()=>[(0,i.Wm)(_._,{class:"mx-auto px-10 py-8",width:"800px",height:"800"},{default:(0,i.w5)((()=>[(0,i.Wm)(k.o,null,{default:(0,i.w5)((()=>[(0,i.Wm)(T.D,{cols:"12"},{default:(0,i.w5)((()=>[(0,i.Wm)(_._,null,{default:(0,i.w5)((()=>[(0,i.Wm)(V.f,{src:e.editLocIMG,"max-height":"350",class:"bg-grey-lighten-2"},null,8,["src"]),(0,i.Wm)(b.E,{class:"text-h6"},{default:(0,i.w5)((()=>[(0,i.Wm)(A.h,{modelValue:e.editLocIMG,"onUpdate:modelValue":t[5]||(t[5]=t=>e.editLocIMG=t),class:"mb-2",clearable:"",label:"Location Image URL"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1}),(0,i.Wm)(k.o,null,{default:(0,i.w5)((()=>[(0,i.Wm)(T.D,{cols:"12"},{default:(0,i.w5)((()=>[(0,i.Wm)(A.h,{modelValue:e.editLoc,"onUpdate:modelValue":t[6]||(t[6]=t=>e.editLoc=t),class:"mb-2",clearable:"",label:"Location"},null,8,["modelValue"])])),_:1})])),_:1}),(0,i.Wm)(k.o,null,{default:(0,i.w5)((()=>[(0,i.Wm)(T.D,{cols:"12"},{default:(0,i.w5)((()=>[(0,i.Wm)(A.h,{modelValue:e.editLocDes,"onUpdate:modelValue":t[7]||(t[7]=t=>e.editLocDes=t),class:"mb-2",clearable:"",label:"Description"},null,8,["modelValue"]),(0,i.wy)((0,i.Wm)(A.h,{modelValue:e.editLocID,"onUpdate:modelValue":t[8]||(t[8]=t=>e.editLocID=t),label:"id"},null,8,["modelValue"]),[[a.F8,!1]])])),_:1})])),_:1}),(0,i.Wm)(k.o,null,{default:(0,i.w5)((()=>[(0,i.Wm)(T.D,{cols:"12"},{default:(0,i.w5)((()=>[(0,i.Wm)(m.T,{size:"large",value:"UpdateLocation",onClick:t[9]||(t[9]=e=>n.updateLocation())},{default:(0,i.w5)((()=>[(0,i.Wm)(p.t,null,{default:(0,i.w5)((()=>[(0,i.Uk)("mdi-content-save")])),_:1}),(0,i.Uk)("   Save ")])),_:1})])),_:1})])),_:1}),fe])),_:1})])),_:1},8,["model-value"]),(0,i.Wm)(Z.y,{"model-value":e.loadingOverlay,class:"align-center justify-center",persistent:e.diableOverlay},{default:(0,i.w5)((()=>[(0,i.Wm)(K.L,{color:"primary",indeterminate:"",size:"64"}),(0,i._)("h3",null,(0,d.zw)(e.loadingMSG),1)])),_:1},8,["model-value","persistent"])])}var _e={addItinerary(e){return j().post("/addItinerary",e)},getItinerarys(e){return j().post("/getItinerarys",e)},deleteItinerarys(e){return j().post("/deleteItinerarys",e)},addLocation(e){return j().post("/addLocation",e)},addHotel(e){return j().post("/addHotel",e)},getLocation(e){return j().get("/getlocations",e)},getHotels(e){return j().get("/getHotels",e)},deleteLocation(e){return j().delete("/deletelocation/"+e)},deleteHotel(e){return j().delete("/deletehotel/"+e)},updateLocation(e,t){return j().put("/updatelocation/"+e,t)},updateHotel(e,t){return j().put("/updatehotel/"+e,t)}},We={data:()=>({trips:null,refreshAllTrips:!1,loadingOverlay:!1,editOverlay:!1,diableOverlay:!0,createLocIMG:"",createLoc:"",createLocDes:"",editLocIMG:"",editLoc:"",editLocDes:"",editLocID:"",allLoc:[],addLocAry:[],showLoc:[],lochtlOverlay:!1,loadingMSG:"Loading..."}),methods:{async getLocation(){await _e.getLocation().then((e=>{e.data.forEach((e=>{this.allLoc.push(e)})),this.loadingOverlay=!1}))},async createLocation(){""!=this.createLoc&&null!=this.createLocIMG?(this.loadingOverlay=!0,await _e.addLocation({Address:this.createLoc,Description:this.createLocDes,ImageURL:this.createLocIMG}).then((e=>{console.log("create Location: "+e),this.allLoc.push({id:e.data.id,Address:e.data.Address,Description:e.data.Description,ImageURL:e.data.ImageURL}),this.addLocAry.push({Address:this.createLoc,Description:this.createLocDes,ImageURL:this.createLocIMG}),this.createLoc="",this.createLocDes="",this.createLocIMG="",this.loadingOverlay=!1}))):this.showSnackles("Please Fill Location and Location image URL to continue.")},editLocation(e){console.log(e),this.editLoc=e.Address,this.editLocDes=e.Description,this.editLocIMG=e.ImageURL,this.editLocID=e.id,this.editOverlay=!this.editOverlay},async deleteLocation(e){console.log(e),this.loadingOverlay=!0,this.loadingMSG="Deleting...";var t=await _e.deleteLocation(e.id).then((()=>{this.loadingOverlay=!1,this.refreshAllTrips=!this.refreshAllTrips}));console.log(t)},async updateLocation(){console.log(this.editLocID),this.loadingOverlay=!0,this.loadingMSG="Updating...";var e=await _e.updateLocation(this.editLocID,{Address:this.editLoc,Description:this.editLocDes,ImageURL:this.editLocIMG}).then((()=>{this.editOverlay=!this.editOverlay,this.loadingOverlay=!1,this.refreshAllTrips=!this.refreshAllTrips}));console.log("updated: "+e)}},beforeMount(){this.loadingOverlay=!0,this.getLocation()},watch:{refreshAllTrips:function(){this.loadingOverlay=!0,this.allLoc=[],this.getLocation()}}};const ve=(0,S.Z)(We,[["render",ye]]);var Le=ve;const Ue=(0,i._)("br",null,null,-1),Ie=(0,i._)("br",null,null,-1),be=(0,i._)("br",null,null,-1),De=(0,i._)("br",null,null,-1);function ke(e,t,l,o,s,n){return(0,i.wg)(),(0,i.iD)("div",{key:e.trips},[(0,i.Wm)(k.o,{class:"text-right"},{default:(0,i.w5)((()=>[(0,i.Wm)(T.D,{col:"12",mb:"2"},{default:(0,i.w5)((()=>[(0,i.Wm)(m.T,{"prepend-icon":"mdi-account-circle",onClick:t[0]||(t[0]=t=>e.refreshAllTrips=!e.refreshAllTrips)},{prepend:(0,i.w5)((()=>[(0,i.Wm)(p.t,{color:"primary"},{default:(0,i.w5)((()=>[(0,i.Uk)("mdi-refresh")])),_:1})])),default:(0,i.w5)((()=>[(0,i.Uk)(" Refresh ")])),_:1})])),_:1})])),_:1}),Ue,(0,i.Wm)(_._,{class:"mx-auto px-10 py-8",width:"90%",height:"700"},{default:(0,i.w5)((()=>[(0,i.Wm)(k.o,null,{default:(0,i.w5)((()=>[(0,i.Wm)(T.D,{cols:"12"},{default:(0,i.w5)((()=>[(0,i.Wm)(A.h,{modelValue:e.createHtlIMG,"onUpdate:modelValue":t[1]||(t[1]=t=>e.createHtlIMG=t),class:"mb-2",clearable:"",label:"Hotel Image URL"},null,8,["modelValue"])])),_:1})])),_:1}),(0,i.Wm)(k.o,null,{default:(0,i.w5)((()=>[(0,i.Wm)(T.D,{cols:"12"},{default:(0,i.w5)((()=>[(0,i.Wm)(A.h,{modelValue:e.createHtl,"onUpdate:modelValue":t[2]||(t[2]=t=>e.createHtl=t),class:"mb-2",clearable:"",label:"Description"},null,8,["modelValue"])])),_:1})])),_:1}),(0,i.Wm)(k.o,null,{default:(0,i.w5)((()=>[(0,i.Wm)(T.D,{cols:"12"},{default:(0,i.w5)((()=>[(0,i.Wm)(m.T,{size:"large",value:"AddNewHotel",onClick:t[3]||(t[3]=e=>n.createHotel())},{default:(0,i.w5)((()=>[(0,i.Wm)(p.t,null,{default:(0,i.w5)((()=>[(0,i.Uk)("mdi-plus-circle-outline")])),_:1}),(0,i.Uk)(" Add Hotel ")])),_:1})])),_:1})])),_:1}),Ie,(0,i.Wm)(ue.J),be,(0,i.Wm)(he.t,{items:e.allHtl,height:"300","item-height":"50"},{default:(0,i.w5)((({item:e})=>[(0,i.Wm)(ce.l,null,{prepend:(0,i.w5)((()=>[(0,i.Wm)(de.V,{rounded:"0",image:e.ImageURL,class:"text-white",size:"90"},null,8,["image"])])),append:(0,i.w5)((()=>[(0,i.Wm)(m.T,{size:"small",variant:"tonal",onClick:t=>n.editHotel(e)},{default:(0,i.w5)((()=>[(0,i.Wm)(p.t,{color:"orange-darken-4",end:""},{default:(0,i.w5)((()=>[(0,i.Uk)(" mdi-pencil ")])),_:1}),(0,i.Uk)("  Edit ")])),_:2},1032,["onClick"]),(0,i.Uk)("   "),(0,i.Wm)(m.T,{size:"small",variant:"tonal",onClick:t=>n.deleteHotel(e)},{default:(0,i.w5)((()=>[(0,i.Wm)(p.t,{color:"orange-darken-4",end:""},{default:(0,i.w5)((()=>[(0,i.Uk)(" mdi-delete-empty ")])),_:1}),(0,i.Uk)("  Delete ")])),_:2},1032,["onClick"])])),default:(0,i.w5)((()=>[(0,i.Wm)(me.V,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,d.zw)(e.HotelName),1)])),_:2},1024)])),_:2},1024)])),_:1},8,["items"])])),_:1}),(0,i.Wm)(Z.y,{"model-value":e.editOverlay,class:"align-center justify-center"},{default:(0,i.w5)((()=>[(0,i.Wm)(_._,{class:"mx-auto px-10 py-8",width:"800px",height:"700"},{default:(0,i.w5)((()=>[(0,i.Wm)(k.o,null,{default:(0,i.w5)((()=>[(0,i.Wm)(T.D,{cols:"12"},{default:(0,i.w5)((()=>[(0,i.Wm)(_._,null,{default:(0,i.w5)((()=>[(0,i.Wm)(V.f,{src:e.editHtlIMG,"max-height":"350",class:"bg-grey-lighten-2"},null,8,["src"]),(0,i.Wm)(b.E,{class:"text-h6"},{default:(0,i.w5)((()=>[(0,i.Wm)(A.h,{modelValue:e.editHtlIMG,"onUpdate:modelValue":t[4]||(t[4]=t=>e.editHtlIMG=t),class:"mb-2",clearable:"",label:"Hotel Image URL"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1}),(0,i.Wm)(k.o,null,{default:(0,i.w5)((()=>[(0,i.Wm)(T.D,{cols:"12"},{default:(0,i.w5)((()=>[(0,i.Wm)(A.h,{modelValue:e.editHtl,"onUpdate:modelValue":t[5]||(t[5]=t=>e.editHtl=t),class:"mb-2",clearable:"",label:"Hotel"},null,8,["modelValue"])])),_:1}),(0,i.Wm)(T.D,{cols:"12"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i.Wm)(A.h,{modelValue:e.editHtlID,"onUpdate:modelValue":t[6]||(t[6]=t=>e.editHtlID=t),label:"id"},null,8,["modelValue"]),[[a.F8,!1]])])),_:1})])),_:1}),(0,i.Wm)(k.o,null,{default:(0,i.w5)((()=>[(0,i.Wm)(T.D,{cols:"12"},{default:(0,i.w5)((()=>[(0,i.Wm)(m.T,{size:"large",value:"UpdateHotel",onClick:t[7]||(t[7]=e=>n.updateHtl())},{default:(0,i.w5)((()=>[(0,i.Wm)(p.t,null,{default:(0,i.w5)((()=>[(0,i.Uk)("mdi-content-save")])),_:1}),(0,i.Uk)("   Save ")])),_:1})])),_:1})])),_:1}),De])),_:1})])),_:1},8,["model-value"]),(0,i.Wm)(Z.y,{"model-value":e.loadingOverlay,class:"align-center justify-center",persistent:e.diableOverlay},{default:(0,i.w5)((()=>[(0,i.Wm)(K.L,{color:"primary",indeterminate:"",size:"64"}),(0,i._)("h3",null,(0,d.zw)(e.loadingMSG),1)])),_:1},8,["model-value","persistent"])])}var Te={data:()=>({trips:null,refreshAllTrips:!1,loadingOverlay:!1,editOverlay:!1,diableOverlay:!0,createHtlIMG:"",createHtl:"",editHtlIMG:"",editHtl:"",editHtlID:"",allHtl:[],addHtlAry:[],showHtl:[],lochtlOverlay:!1,loadingMSG:"Loading..."}),methods:{async getHotel(){await _e.getHotels().then((e=>{e.data.forEach((e=>{this.allHtl.push(e)})),this.loadingOverlay=!1}))},async createHotel(){""!=this.createHtl&&null!=this.createHtlIMG?(this.loadingOverlay=!0,await _e.addHotel({HotelName:this.createHtl,ImageURL:this.createHtlIMG}).then((e=>{console.log("create Location: "+e),this.allHtl.push({id:e.data.id,HotelName:e.data.HotelName,ImageURL:e.data.ImageURL}),this.addHtlAry.push({HotelName:this.createHtl,ImageURL:this.createHtlIMG}),this.createHtl="",this.createHtlIMG="",this.loadingOverlay=!1}))):this.showSnackles("Please Fill hotel name and Hoptel image URL to continue.")},editHotel(e){console.log(e),this.editHtl=e.HotelName,this.editHtlIMG=e.ImageURL,this.editHtlID=e.id,this.editOverlay=!this.editOverlay},async deleteHotel(e){console.log(e),this.loadingOverlay=!0,this.loadingMSG="Deleting...";var t=await _e.deleteHotel(e.id).then((()=>{this.loadingOverlay=!1,this.refreshAllTrips=!this.refreshAllTrips}));console.log(t)},async updateHtl(){console.log(this.editHtlID),this.loadingOverlay=!0,this.loadingMSG="Updating...";var e=await _e.updateHotel(this.editHtlID,{HotelName:this.editHtl,ImageURL:this.editHtlIMG}).then((()=>{this.editOverlay=!this.editOverlay,this.loadingOverlay=!1,this.refreshAllTrips=!this.refreshAllTrips}));console.log("updated: "+e)}},beforeMount(){this.loadingOverlay=!0,this.getHotel()},watch:{refreshAllTrips:function(){this.loadingOverlay=!0,this.allHtl=[],this.getHotel()}}};const Ve=(0,S.Z)(Te,[["render",ke]]);var He=Ve;const Oe=(0,i._)("br",null,null,-1),Ae=(0,i._)("br",null,null,-1),xe=(0,i._)("br",null,null,-1),Re=(0,i._)("br",null,null,-1),Ce=(0,i._)("br",null,null,-1),Ne=(0,i._)("br",null,null,-1),ze=(0,i._)("br",null,null,-1);function je(e,t,l,o,s,n){return(0,i.wg)(),(0,i.iD)("div",{key:e.trips},[(0,i.Wm)(k.o,{class:"text-right"},{default:(0,i.w5)((()=>[(0,i.Wm)(T.D,{col:"12",mb:"2"},{default:(0,i.w5)((()=>[(0,i.Wm)(m.T,{"prepend-icon":"mdi-account-circle",onClick:t[0]||(t[0]=t=>e.refreshAllTrips=!e.refreshAllTrips)},{prepend:(0,i.w5)((()=>[(0,i.Wm)(p.t,{color:"primary"},{default:(0,i.w5)((()=>[(0,i.Uk)("mdi-refresh")])),_:1})])),default:(0,i.w5)((()=>[(0,i.Uk)(" Refresh ")])),_:1})])),_:1})])),_:1}),Oe,(0,i.wy)((0,i.Wm)(_._,{class:"mx-auto px-10 py-8",width:"70%",height:"700px"},{default:(0,i.w5)((()=>[Ae,(0,i.Wm)(he.t,{items:e.allReq,height:"600px","item-height":"50px"},{default:(0,i.w5)((({item:e})=>[(0,i.Wm)(ce.l,null,{append:(0,i.w5)((()=>[(0,i.Wm)(m.T,{size:"small",variant:"tonal",onClick:t=>n.updateStatus("joined",e)},{default:(0,i.w5)((()=>[(0,i.Wm)(p.t,{color:"orange-darken-4"},{default:(0,i.w5)((()=>[(0,i.Uk)(" mdi-check ")])),_:1}),(0,i.Uk)("  Accept ")])),_:2},1032,["onClick"]),(0,i.Uk)("   "),(0,i.Wm)(m.T,{size:"small",variant:"tonal",onClick:t=>n.updateStatus("rejected",e)},{default:(0,i.w5)((()=>[(0,i.Wm)(p.t,{color:"orange-darken-4"},{default:(0,i.w5)((()=>[(0,i.Uk)(" mdi-close ")])),_:1}),(0,i.Uk)("  Reject ")])),_:2},1032,["onClick"])])),default:(0,i.w5)((()=>[(0,i.Wm)(me.V,null,{default:(0,i.w5)((()=>[(0,i._)("b",null,(0,d.zw)(e.userID),1),(0,i.Uk)(" wants to join trip: "+(0,d.zw)(e.tripName),1)])),_:2},1024),xe,(0,i.Wm)(ue.J),Re])),_:2},1024)])),_:1},8,["items"])])),_:1},512),[[a.F8,"Admin"==this.$store.state.permission]]),(0,i.wy)((0,i.Wm)(_._,{class:"mx-auto px-10 py-8",width:"70%",height:"700px"},{default:(0,i.w5)((()=>[Ce,(0,i.Wm)(he.t,{items:e.allNotify,height:"600px","item-height":"50px"},{default:(0,i.w5)((({item:e})=>[(0,i.Wm)(ce.l,null,{append:(0,i.w5)((()=>[(0,i.Wm)(m.T,{size:"small",variant:"tonal",onClick:t=>n.openTrip(e.tripID)},{default:(0,i.w5)((()=>[(0,i.Wm)(p.t,{color:"orange-darken-4"},{default:(0,i.w5)((()=>[(0,i.Uk)(" mdi-open-in-new ")])),_:1}),(0,i.Uk)("  view ")])),_:2},1032,["onClick"])])),default:(0,i.w5)((()=>[(0,i.Wm)(me.V,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,d.zw)(e.msg),1)])),_:2},1024),Ne,(0,i.Wm)(ue.J),ze])),_:2},1024)])),_:1},8,["items"])])),_:1},512),[[a.F8,"user"==this.$store.state.permission]]),(0,i.Wm)(Z.y,{"model-value":e.loadingOverlay,class:"align-center justify-center",persistent:e.diableOverlay},{default:(0,i.w5)((()=>[(0,i.Wm)(K.L,{color:"primary",indeterminate:"",size:"64"}),(0,i._)("h3",null,(0,d.zw)(e.loadingMSG),1)])),_:1},8,["model-value","persistent"])])}var Me={addNotifications(e){return j().post("/addnotification",e)},getAllNotifications(e){return j().get("/getnotifications/"+e)}},Ge={data:()=>({trips:null,refreshAllTrips:!1,loadingOverlay:!1,editOverlay:!1,diableOverlay:!0,allReq:[],addReqAry:[],showReq:[],lochtlOverlay:!1,loadingMSG:"Loading...",notifyMSG:"",userID:"",allNotify:[]}),methods:{async getRequestedTrips(){this.loadingOverlay=!0,await oe.getAllRequestedTrips().then((e=>{e.data.forEach((e=>{this.allReq.push(e)})),this.loadingOverlay=!1}))},async updateStatus(e,t){console.log(e+"::"+t.id),this.loadingOverlay=!0,this.loadingMSG="Updating...";var l=await oe.updateStatus(t.id,{status:e}).then((()=>{this.addNotifycation(t,e),this.loadingOverlay=!1,this.refreshAllTrips=!this.refreshAllTrips}));console.log("updated: "+l)},async getNotifications(){this.loadingOverlay=!0,await Me.getAllNotifications(this.userID).then((e=>{e.data.forEach((e=>{var t="";"join"==e.action?t="Your request to join trip - "+e.tripName+" has been APPROVED":"change"==e.action?t="Trip details for "+e.tripName+" has been UPDATED":"reject"==e.action&&(t="Your request to join trip - "+e.tripName+" has been REJECTED"),this.allNotify.push({id:e.id,userID:e.userID,tripID:e.tripID,tripName:e.tripName,action:e.action,msg:t})})),this.loadingOverlay=!1}))},openTrip(e){this.$store.commit("setviewTripId",e),nl.push("/viewtrip")},async addNotifycation(e,t){console.log("Join trip");var l="";"joined"==t?l="join":"rejected"==t&&(l="reject"),await Me.addNotifications({userID:e.userID,tripID:e.tripID,tripName:e.tripName,action:l}).then((e=>{console.log(e)}))}},beforeMount(){this.loadingOverlay=!0,"Admin"==this.$store.state.permission?this.getRequestedTrips():"user"==this.$store.state.permission&&(console.log(this.$store.state.permission),this.loadingOverlay=!1,this.userID=this.$store.state.username,this.getNotifications())},watch:{refreshAllTrips:function(){this.loadingOverlay=!0,this.allReq=[],this.allNotify=[],"Admin"==this.$store.state.permission?this.getRequestedTrips():"user"==this.$store.state.permission&&this.getNotifications()}}};const Se=(0,S.Z)(Ge,[["render",je]]);var Ee=Se,$e={components:{AddTrip:$,MyTrips:re,AllTrips:te,AllLocations:Le,AllHotels:He,AllNotifications:Ee},data:()=>({tab:null}),methods:{}};const Fe=(0,S.Z)($e,[["render",I]]);var qe=Fe,Je=l(7771);const Pe=(0,i._)("h1",{class:"text-center"},"Register",-1),Ze=(0,i._)("br",null,null,-1),Ke=(0,i._)("br",null,null,-1),Ye=(0,i._)("br",null,null,-1);function Be(e,t,l,o,s,n){return(0,i.wg)(),(0,i.j4)(H.C,null,{default:(0,i.w5)((()=>[Pe,Ze,(0,i.Wm)(_._,{class:"mx-auto px-6 py-8","max-width":"344"},{default:(0,i.w5)((()=>[(0,i.Wm)(D.O,{modelValue:e.form,"onUpdate:modelValue":t[3]||(t[3]=t=>e.form=t),onSubmit:(0,a.iM)(n.onSubmit,["prevent"])},{default:(0,i.w5)((()=>[(0,i.Wm)(A.h,{modelValue:e.username,"onUpdate:modelValue":t[0]||(t[0]=t=>e.username=t),readonly:e.loading,rules:[n.required],class:"mb-2",clearable:"",label:"Username"},null,8,["modelValue","readonly","rules"]),(0,i.Wm)(A.h,{modelValue:e.password,"onUpdate:modelValue":t[1]||(t[1]=t=>e.password=t),readonly:e.loading,rules:[n.required],clearable:"",label:"Password",placeholder:"Enter your password",onch:""},null,8,["modelValue","readonly","rules"]),(0,i.Wm)(A.h,{modelValue:e.passwordConfirm,"onUpdate:modelValue":t[2]||(t[2]=t=>e.passwordConfirm=t),readonly:e.loading,rules:[n.required],clearable:"",label:"Confirm Password",placeholder:"Enter your password"},null,8,["modelValue","readonly","rules"]),(0,i.wy)((0,i.Wm)(Je.w,{variant:"outlined",type:"warning",prominent:"",border:"top",value:"passwordAlert"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,d.zw)(e.alertMessage),1)])),_:1},512),[[a.F8,e.showAlert]]),Ke,(0,i.Wm)(m.T,{disabled:!e.form,loading:e.loading,block:"",color:"primary",size:"large",type:"submit",variant:"elevated",rounded:"xl",onClick:n.registerClick},{default:(0,i.w5)((()=>[(0,i.Uk)(" Register ")])),_:1},8,["disabled","loading","onClick"]),Ye,(0,i.Wm)(m.T,{block:"",color:"primary",size:"small",variant:"plain",rounded:"xl",to:"/"},{default:(0,i.w5)((()=>[(0,i.Uk)(" Go to Home ")])),_:1})])),_:1},8,["modelValue","onSubmit"])])),_:1}),(0,i.Wm)(O.v,{modelValue:e.snackbar,"onUpdate:modelValue":t[4]||(t[4]=t=>e.snackbar=t),timeout:e.timeout},{default:(0,i.w5)((()=>[(0,i.Uk)(" Registeration Success. Please wait while redirecting... ")])),_:1},8,["modelValue","timeout"])])),_:1})}var Qe={register(e){return j().post("/register",e)},login(e){return j().post("/login",e)}},Xe={data:()=>({form:!1,username:null,password:null,passwordConfirm:null,loading:!1,showAlert:!1,alertMessage:"",snackbar:!1,timeout:2e3}),methods:{onSubmit(){this.form&&(this.loading=!0,setTimeout((()=>this.loading=!1),2e3))},required(e){return!!e||"Field is required"},async registerClick(){try{await Qe.register({username:this.username,password:this.password,permission:"user"}).then((e=>{console.log(e),"OK"==e.statusText&&(this.$store.commit("setUserName",e.data.username),this.$store.commit("setPermission",e.data.permission),this.$store.commit("setIsUserLoggedIn",!0),console.log(this.$store.state.username),console.log(this.$store.state.permission),console.log(this.$store.state.isUserLoggedIn),this.clearFields(),this.snackbar=!0,setTimeout((()=>nl.push("/")),2e3))}))}catch(e){console.log(e),console.log(e.response.data.error),this.showError(e.response.data.error)}},clearFields(){this.password="",this.username="",this.passwordConfirm=""},showError(e){this.alertMessage=e,this.showAlert=!0}},watch:{password:function(){this.password!=this.passwordConfirm?this.showError("Password and Confirm Password must be same"):this.showAlert=!1},passwordConfirm:function(){this.password!=this.passwordConfirm?this.showError("Password and Confirm Password must be same"):this.showAlert=!1}}};const et=(0,S.Z)(Xe,[["render",Be]]);var tt=et;const lt=(0,i._)("h1",{class:"text-center"},"Login",-1),at=(0,i._)("br",null,null,-1),it=(0,i._)("br",null,null,-1),ot=(0,i._)("br",null,null,-1),st=(0,i._)("br",null,null,-1);function nt(e,t,l,o,s,n){return(0,i.wg)(),(0,i.j4)(H.C,null,{default:(0,i.w5)((()=>[lt,at,(0,i.Wm)(_._,{class:"mx-auto px-6 py-8","max-width":"344"},{default:(0,i.w5)((()=>[(0,i.Wm)(D.O,{modelValue:e.form,"onUpdate:modelValue":t[3]||(t[3]=t=>e.form=t),onSubmit:(0,a.iM)(n.onSubmit,["prevent"])},{default:(0,i.w5)((()=>[(0,i.Wm)(A.h,{modelValue:e.username,"onUpdate:modelValue":t[0]||(t[0]=t=>e.username=t),readonly:e.loading,rules:[n.required],class:"mb-2",clearable:"",label:"Username"},null,8,["modelValue","readonly","rules"]),(0,i.Wm)(A.h,{modelValue:e.password,"onUpdate:modelValue":t[1]||(t[1]=t=>e.password=t),readonly:e.loading,rules:[n.required],clearable:"",label:"Password",placeholder:"Enter your password","append-icon":e.show1?"mdi-eye":"mdi-eye-off",type:e.show1?"text":"password","onClick:append":t[2]||(t[2]=t=>e.show1=!e.show1)},null,8,["modelValue","readonly","rules","append-icon","type"]),it,(0,i.wy)((0,i.Wm)(Je.w,{variant:"outlined",type:"warning",prominent:"",border:"top",value:"passwordAlert"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,d.zw)(e.alertMessage),1)])),_:1},512),[[a.F8,e.showAlert]]),ot,(0,i.Wm)(m.T,{disabled:!e.form,loading:e.loading,block:"",color:"primary",size:"large",type:"submit",variant:"elevated",rounded:"xl",onClick:n.loginClick},{default:(0,i.w5)((()=>[(0,i.Uk)(" Login ")])),_:1},8,["disabled","loading","onClick"]),st,(0,i.Wm)(m.T,{block:"",color:"primary",size:"small",variant:"plain",rounded:"xl",to:"/"},{default:(0,i.w5)((()=>[(0,i.Uk)(" Go to Home ")])),_:1})])),_:1},8,["modelValue","onSubmit"])])),_:1}),(0,i.Wm)(O.v,{modelValue:e.snackbar,"onUpdate:modelValue":t[4]||(t[4]=t=>e.snackbar=t),timeout:e.timeout},{default:(0,i.w5)((()=>[(0,i.Uk)(" Login Success. Please wait while redirecting... ")])),_:1},8,["modelValue","timeout"])])),_:1})}var rt={data:()=>({form:!1,username:null,password:null,passwordConfirm:null,loading:!1,snackbar:!1,timeout:2e3,show1:!1,show2:!0,show3:!1,show4:!1,showAlert:!1,alertMessage:""}),methods:{onSubmit(){this.form&&(this.loading=!0,setTimeout((()=>this.loading=!1),2e3))},required(e){return!!e||"Field is required"},async loginClick(){try{await Qe.login({username:this.username,password:this.password}).then((e=>{console.log(e.statusText),"OK"==e.statusText&&(this.$store.commit("setUserName",e.data.username),this.$store.commit("setPermission",e.data.permission),this.$store.commit("setIsUserLoggedIn",!0),console.log(this.$store.state.username),console.log(this.$store.state.permission),console.log(this.$store.state.isUserLoggedIn),this.clearFields(),this.snackbar=!0,setTimeout((()=>nl.push("/")),2e3))}))}catch(e){console.log(e),this.showError(e.response.data.error),this.clearFields()}},showError(e){this.alertMessage=e,this.showAlert=!0},clearFields(){this.password="",this.username=""}}};const dt=(0,S.Z)(rt,[["render",nt]]);var ut=dt,ct=l(977),mt=l(7477),ht=l(4647);const pt=(0,i._)("p",null,"Once trip is deleted its lost forever.",-1),gt=(0,i._)("br",null,null,-1),wt=(0,i._)("br",null,null,-1),ft=(0,i._)("br",null,null,-1),yt=(0,i._)("br",null,null,-1),_t=(0,i._)("br",null,null,-1),Wt=(0,i._)("br",null,null,-1),vt=(0,i._)("br",null,null,-1),Lt=(0,i._)("br",null,null,-1),Ut=(0,i._)("br",null,null,-1),It=(0,i._)("h4",null,"Locations:",-1),bt=(0,i._)("br",null,null,-1),Dt=(0,i._)("h4",null,"Hotels:",-1),kt=(0,i._)("br",null,null,-1),Tt=(0,i._)("br",null,null,-1);function Vt(e,t,l,o,s,n){return(0,i.wg)(),(0,i.j4)(H.C,null,{default:(0,i.w5)((()=>[(0,i.Wm)(_._,{class:"mx-auto px-10 py-8","max-width":"85%",color:"red-lighten-4"},{default:(0,i.w5)((()=>[(0,i.Wm)(k.o,null,{default:(0,i.w5)((()=>[(0,i.Wm)(T.D,{cols:"12"},{default:(0,i.w5)((()=>[pt])),_:1})])),_:1}),(0,i.Wm)(k.o,null,{default:(0,i.w5)((()=>[(0,i.Wm)(T.D,{cols:"12",md:"5"}),(0,i.Wm)(T.D,{cols:"12",md:"2"},{default:(0,i.w5)((()=>[(0,i.Wm)(m.T,{block:"",color:"red-darken-1",size:"large",variant:"elevated",rounded:"xl",onClick:t[0]||(t[0]=e=>n.deleteTrip())},{default:(0,i.w5)((()=>[(0,i.Uk)(" Delete Trip ")])),_:1})])),_:1})])),_:1})])),_:1}),gt,(0,i.Wm)(_._,{class:"mx-auto px-10 py-8","max-width":"85%"},{default:(0,i.w5)((()=>[(0,i.Wm)(k.o,null,{default:(0,i.w5)((()=>[(0,i.Wm)(T.D,{cols:"12"},{default:(0,i.w5)((()=>[(0,i.Wm)(_._,null,{default:(0,i.w5)((()=>[(0,i.Wm)(V.f,{src:e.URL,"max-height":"350",class:"bg-grey-lighten-2"},null,8,["src"]),(0,i.Wm)(b.E,{class:"text-h6"},{default:(0,i.w5)((()=>[(0,i.Wm)(A.h,{modelValue:e.URL,"onUpdate:modelValue":t[1]||(t[1]=t=>e.URL=t),class:"mb-2",clearable:"",label:"Thumbnail URL"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1}),wt,(0,i.Wm)(k.o,null,{default:(0,i.w5)((()=>[(0,i.Wm)(T.D,{cols:"12",md:"8"},{default:(0,i.w5)((()=>[(0,i.Wm)(A.h,{modelValue:e.title,"onUpdate:modelValue":t[2]||(t[2]=t=>e.title=t),clearable:"",label:"Title"},null,8,["modelValue"])])),_:1}),(0,i.Wm)(T.D,{cols:"12",md:"4"},{default:(0,i.w5)((()=>[(0,i.Wm)(A.h,{modelValue:e.cost,"onUpdate:modelValue":t[3]||(t[3]=t=>e.cost=t),label:"Cost per Person (in $)",type:"number"},null,8,["modelValue"])])),_:1})])),_:1}),(0,i.Wm)(k.o,null,{default:(0,i.w5)((()=>[(0,i.Wm)(T.D,{cols:"12",md:"12"},{default:(0,i.w5)((()=>[(0,i.Wm)(A.h,{modelValue:e.location,"onUpdate:modelValue":t[4]||(t[4]=t=>e.location=t),clearable:"",label:"Location"},null,8,["modelValue"])])),_:1})])),_:1}),(0,i.Wm)(k.o,null,{default:(0,i.w5)((()=>[(0,i.Wm)(T.D,{cols:"12",md:"2"},{default:(0,i.w5)((()=>[(0,i.Wm)(A.h,{modelValue:e.days,"onUpdate:modelValue":t[5]||(t[5]=t=>e.days=t),label:"No of Days",type:"number"},null,8,["modelValue"])])),_:1}),(0,i.Wm)(T.D,{cols:"12",md:"2"},{default:(0,i.w5)((()=>[(0,i.Wm)(A.h,{modelValue:e.nights,"onUpdate:modelValue":t[6]||(t[6]=t=>e.nights=t),label:"No of Nights",type:"number"},null,8,["modelValue"])])),_:1}),(0,i.Wm)(T.D,{cols:"12",md:"4"},{default:(0,i.w5)((()=>[(0,i.Wm)(A.h,{modelValue:e.from,"onUpdate:modelValue":t[7]||(t[7]=t=>e.from=t),type:"date",label:"From date"},null,8,["modelValue"])])),_:1}),(0,i.Wm)(T.D,{cols:"12",md:"4"},{default:(0,i.w5)((()=>[(0,i.Wm)(A.h,{modelValue:e.to,"onUpdate:modelValue":t[8]||(t[8]=t=>e.to=t),type:"date",label:"To date"},null,8,["modelValue"])])),_:1})])),_:1}),(0,i.Wm)(k.o,null,{default:(0,i.w5)((()=>[(0,i.Wm)(T.D,{cols:"12",md:"12"},{default:(0,i.w5)((()=>[(0,i.Wm)(x.z,{modelValue:e.decription,"onUpdate:modelValue":t[9]||(t[9]=t=>e.decription=t),class:"mb-2",clearable:"",label:"Description"},null,8,["modelValue"])])),_:1})])),_:1}),(0,i.Wm)(k.o,null,{default:(0,i.w5)((()=>[(0,i.Wm)(T.D,{cols:"12",md:"5"}),(0,i.Wm)(T.D,{cols:"12",md:"2"},{default:(0,i.w5)((()=>[(0,i.Wm)(m.T,{block:"",color:"primary",size:"large",variant:"elevated",rounded:"xl",onClick:n.UpdateTripDetails},{default:(0,i.w5)((()=>[(0,i.Uk)(" Save ")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1}),ft,(0,i.Wm)(_._,{class:"mx-auto px-10 py-8","max-width":"85%"},{default:(0,i.w5)((()=>[(0,i.Wm)(k.o,null,{default:(0,i.w5)((()=>[(0,i.Wm)(T.D,{cols:"12"},{default:(0,i.w5)((()=>[((0,i.wg)(),(0,i.j4)(ct.k,{modelValue:e.activeImg,"onUpdate:modelValue":t[10]||(t[10]=t=>e.activeImg=t),key:this.tripimgs},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.tripimgs,(e=>((0,i.wg)(),(0,i.j4)(mt.f,{src:e.url,cover:"",key:e},null,8,["src"])))),128))])),_:1},8,["modelValue"]))])),_:1})])),_:1}),yt,(0,i.Wm)(k.o,null,{default:(0,i.w5)((()=>[(0,i.Wm)(T.D,{cols:"10"},{default:(0,i.w5)((()=>[(0,i.Wm)(A.h,{modelValue:e.imgURL,"onUpdate:modelValue":t[11]||(t[11]=t=>e.imgURL=t),class:"mb-2",clearable:"",label:"Thumbnail URL"},null,8,["modelValue"])])),_:1}),(0,i.Wm)(T.D,{cols:"1"},{default:(0,i.w5)((()=>[(0,i.Wm)(m.T,{size:"x-large",value:"Addnewurl",onClick:n.addImg},{default:(0,i.w5)((()=>[(0,i.Wm)(p.t,null,{default:(0,i.w5)((()=>[(0,i.Uk)("mdi-plus-circle-outline")])),_:1}),(0,i.Uk)(" Add ")])),_:1},8,["onClick"])])),_:1})])),_:1}),(0,i.Wm)(k.o,null,{default:(0,i.w5)((()=>[(0,i.Wm)(T.D,null,{default:(0,i.w5)((()=>[(0,i.Wm)(ht.i,null,{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.tripimgs,(e=>((0,i.wg)(),(0,i.j4)(ce.l,{key:e,title:e.url},{append:(0,i.w5)((()=>[(0,i.Wm)(m.T,{color:"red",icon:"mdi-minus-circle-outline",variant:"text",onClick:t=>n.deleteImg(e)},null,8,["onClick"])])),_:2},1032,["title"])))),128))])),_:1})])),_:1})])),_:1}),(0,i.Wm)(k.o,null,{default:(0,i.w5)((()=>[(0,i.Wm)(T.D,{cols:"12",md:"5"}),(0,i.Wm)(T.D,{cols:"12",md:"2"},{default:(0,i.w5)((()=>[(0,i.Wm)(m.T,{block:"",color:"primary",size:"large",variant:"elevated",rounded:"xl",onClick:n.UpdateImg},{default:(0,i.w5)((()=>[(0,i.Uk)(" Save ")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1}),_t,(0,i.Wm)(_._,{class:"mx-auto px-10 py-8","max-width":"85%"},{default:(0,i.w5)((()=>[(0,i.Wm)(k.o,null,{default:(0,i.w5)((()=>[(0,i.Wm)(T.D,{cols:"2"},{default:(0,i.w5)((()=>[(0,i.Wm)(A.h,{modelValue:e.dayIt,"onUpdate:modelValue":t[12]||(t[12]=t=>e.dayIt=t),class:"mb-2",label:"Day",type:"number"},null,8,["modelValue"])])),_:1}),(0,i.Wm)(T.D,{cols:"10"},{default:(0,i.w5)((()=>[(0,i.Wm)(A.h,{modelValue:e.itenary,"onUpdate:modelValue":t[13]||(t[13]=t=>e.itenary=t),class:"mb-2",clearable:"",label:"Activity"},null,8,["modelValue"]),(0,i.wy)((0,i.Wm)(A.h,{modelValue:e.locName,"onUpdate:modelValue":t[14]||(t[14]=t=>e.locName=t),label:"loc id"},null,8,["modelValue"]),[[a.F8,!1]]),(0,i.wy)((0,i.Wm)(A.h,{modelValue:e.hotelName,"onUpdate:modelValue":t[15]||(t[15]=t=>e.hotelName=t),label:"hotel id"},null,8,["modelValue"]),[[a.F8,!1]])])),_:1})])),_:1}),((0,i.wg)(),(0,i.j4)(k.o,{key:e.addLocAry},{default:(0,i.w5)((()=>[(0,i.Wm)(T.D,{cols:"9"},{default:(0,i.w5)((()=>[(0,i.Wm)(he.t,{items:e.addLocAry,height:"100","item-height":"50"},{default:(0,i.w5)((({item:e})=>[(0,i.Wm)(ce.l,null,{prepend:(0,i.w5)((()=>[(0,i.Wm)(de.V,{rounded:"0",image:e.ImageURL,class:"text-white",size:"90"},null,8,["image"])])),default:(0,i.w5)((()=>[(0,i.Wm)(me.V,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,d.zw)(e.Address),1)])),_:2},1024),(0,i.Wm)(me.V,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,d.zw)(e.Description),1)])),_:2},1024)])),_:2},1024)])),_:1},8,["items"])])),_:1}),(0,i.Wm)(T.D,{cols:"3"},{default:(0,i.w5)((()=>[(0,i.Wm)(m.T,{size:"x-large",value:"AddNewLocation",onClick:t[16]||(t[16]=e=>n.showLocationOverLay())},{default:(0,i.w5)((()=>[(0,i.Wm)(p.t,null,{default:(0,i.w5)((()=>[(0,i.Uk)("mdi-plus-circle-outline")])),_:1}),(0,i.Uk)(" Add Location ")])),_:1})])),_:1})])),_:1})),((0,i.wg)(),(0,i.j4)(k.o,{key:e.addHotelAry},{default:(0,i.w5)((()=>[(0,i.Wm)(T.D,{cols:"9"},{default:(0,i.w5)((()=>[(0,i.Wm)(he.t,{items:e.addHotelAry,height:"100","item-height":"50"},{default:(0,i.w5)((({item:e})=>[(0,i.Wm)(ce.l,null,{prepend:(0,i.w5)((()=>[(0,i.Wm)(de.V,{rounded:"0",image:e.ImageURL,class:"text-white",size:"90"},null,8,["image"])])),default:(0,i.w5)((()=>[(0,i.Wm)(me.V,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,d.zw)(e.HotelName),1)])),_:2},1024)])),_:2},1024)])),_:1},8,["items"])])),_:1}),(0,i.Wm)(T.D,{cols:"3"},{default:(0,i.w5)((()=>[(0,i.Wm)(m.T,{size:"x-large",value:"AddNewHotel",onClick:t[17]||(t[17]=e=>n.showHotelOverLay())},{default:(0,i.w5)((()=>[(0,i.Wm)(p.t,null,{default:(0,i.w5)((()=>[(0,i.Uk)("mdi-plus-circle-outline")])),_:1}),(0,i.Uk)(" Add Hotel ")])),_:1})])),_:1})])),_:1})),(0,i.Wm)(k.o,null,{default:(0,i.w5)((()=>[(0,i.Wm)(T.D,{cols:"4"}),(0,i.Wm)(T.D,{cols:"2"},{default:(0,i.w5)((()=>[(0,i.Wm)(m.T,{size:"x-large",value:"AddNewItenary",onClick:n.addItenary},{default:(0,i.w5)((()=>[(0,i.Wm)(p.t,null,{default:(0,i.w5)((()=>[(0,i.Uk)("mdi-plus-circle-outline")])),_:1}),(0,i.Uk)(" Add Itinerary ")])),_:1},8,["onClick"])])),_:1}),(0,i.Wm)(T.D,{cols:"2"},{default:(0,i.w5)((()=>[(0,i.Wm)(m.T,{size:"x-large",value:"AddNewItenary",onClick:n.clearItineraryAdd},{default:(0,i.w5)((()=>[(0,i.Wm)(p.t,null,{default:(0,i.w5)((()=>[(0,i.Uk)("mdi-minus-circle-outline")])),_:1}),(0,i.Uk)(" Clear ")])),_:1},8,["onClick"])])),_:1})])),_:1}),(0,i.Wm)(k.o,null,{default:(0,i.w5)((()=>[(0,i.Wm)(T.D,null,{default:(0,i.w5)((()=>[(0,i.Wm)(ht.i,null,{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.itenarys,(e=>((0,i.wg)(),(0,i.j4)(ce.l,{key:e.day,title:e.data},{default:(0,i.w5)((()=>[(0,i.Wm)(m.T,{size:"small",variant:"plain",color:"blue",onClick:t=>n.showAddedLocAndHotels(e.locationID,e.hotelID)},{default:(0,i.w5)((()=>[(0,i.Uk)("Show Locations and Hotels")])),_:2},1032,["onClick"])])),append:(0,i.w5)((()=>[(0,i.Wm)(m.T,{color:"red",icon:"mdi-minus-circle-outline",variant:"text",onClick:t=>n.deleteItenary(e)},null,8,["onClick"])])),_:2},1032,["title"])))),128))])),_:1})])),_:1})])),_:1}),(0,i.Wm)(k.o,null,{default:(0,i.w5)((()=>[(0,i.Wm)(T.D,{cols:"12",md:"5"}),(0,i.Wm)(T.D,{cols:"12",md:"2"},{default:(0,i.w5)((()=>[(0,i.Wm)(m.T,{block:"",color:"primary",size:"large",variant:"elevated",rounded:"xl",onClick:n.UpdateItinerarys},{default:(0,i.w5)((()=>[(0,i.Uk)(" Save ")])),_:1},8,["onClick"])])),_:1})])),_:1}),(0,i.Wm)(Z.y,{modelValue:e.locOverlay,"onUpdate:modelValue":t[22]||(t[22]=t=>e.locOverlay=t),contained:"",class:"align-center justify-center"},{default:(0,i.w5)((()=>[(0,i.Wm)(_._,{class:"mx-auto px-10 py-8",width:"800px",height:"700"},{default:(0,i.w5)((()=>[(0,i.Wm)(k.o,null,{default:(0,i.w5)((()=>[(0,i.Wm)(T.D,{cols:"6"},{default:(0,i.w5)((()=>[(0,i.Wm)(A.h,{modelValue:e.createLocIMG,"onUpdate:modelValue":t[18]||(t[18]=t=>e.createLocIMG=t),class:"mb-2",clearable:"",label:"Location Image URL"},null,8,["modelValue"])])),_:1}),(0,i.Wm)(T.D,{cols:"6"},{default:(0,i.w5)((()=>[(0,i.Wm)(A.h,{modelValue:e.createLoc,"onUpdate:modelValue":t[19]||(t[19]=t=>e.createLoc=t),class:"mb-2",clearable:"",label:"Location"},null,8,["modelValue"])])),_:1})])),_:1}),(0,i.Wm)(k.o,null,{default:(0,i.w5)((()=>[(0,i.Wm)(T.D,{cols:"12"},{default:(0,i.w5)((()=>[(0,i.Wm)(A.h,{modelValue:e.createLocDes,"onUpdate:modelValue":t[20]||(t[20]=t=>e.createLocDes=t),class:"mb-2",clearable:"",label:"Description"},null,8,["modelValue"])])),_:1})])),_:1}),(0,i.Wm)(k.o,null,{default:(0,i.w5)((()=>[(0,i.Wm)(T.D,{cols:"12"},{default:(0,i.w5)((()=>[(0,i.Wm)(m.T,{size:"large",value:"AddNewLocation",onClick:t[21]||(t[21]=e=>n.createLocation())},{default:(0,i.w5)((()=>[(0,i.Wm)(p.t,null,{default:(0,i.w5)((()=>[(0,i.Uk)("mdi-plus-circle-outline")])),_:1}),(0,i.Uk)(" Add Location ")])),_:1})])),_:1})])),_:1}),Wt,(0,i.Wm)(ue.J),vt,(0,i.Wm)(he.t,{items:e.allLoc,height:"300","item-height":"50"},{default:(0,i.w5)((({item:e})=>[(0,i.Wm)(ce.l,null,{prepend:(0,i.w5)((()=>[(0,i.Wm)(de.V,{rounded:"0",image:e.ImageURL,class:"text-white",size:"90"},null,8,["image"])])),append:(0,i.w5)((()=>[(0,i.Wm)(m.T,{size:"small",variant:"tonal",onClick:t=>n.addLocationFromList(e)},{default:(0,i.w5)((()=>[(0,i.Wm)(p.t,{color:"orange-darken-4",end:""},{default:(0,i.w5)((()=>[(0,i.Uk)(" mdi-plus ")])),_:1}),(0,i.Uk)(" Add Location ")])),_:2},1032,["onClick"])])),default:(0,i.w5)((()=>[(0,i.Wm)(me.V,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,d.zw)(e.Address),1)])),_:2},1024),(0,i.Wm)(me.V,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,d.zw)(e.Description),1)])),_:2},1024)])),_:2},1024)])),_:1},8,["items"])])),_:1})])),_:1},8,["modelValue"]),(0,i.Wm)(Z.y,{modelValue:e.hotelOverlay,"onUpdate:modelValue":t[26]||(t[26]=t=>e.hotelOverlay=t),contained:"",class:"align-center justify-center"},{default:(0,i.w5)((()=>[(0,i.Wm)(_._,{class:"mx-auto px-10 py-8",width:"800px",height:"700"},{default:(0,i.w5)((()=>[(0,i.Wm)(k.o,null,{default:(0,i.w5)((()=>[(0,i.Wm)(T.D,{cols:"12"},{default:(0,i.w5)((()=>[(0,i.Wm)(A.h,{modelValue:e.createHotelIMG,"onUpdate:modelValue":t[23]||(t[23]=t=>e.createHotelIMG=t),class:"mb-2",clearable:"",label:"Hotel Image URL"},null,8,["modelValue"])])),_:1})])),_:1}),(0,i.Wm)(k.o,null,{default:(0,i.w5)((()=>[(0,i.Wm)(T.D,{cols:"12"},{default:(0,i.w5)((()=>[(0,i.Wm)(A.h,{modelValue:e.createHotelname,"onUpdate:modelValue":t[24]||(t[24]=t=>e.createHotelname=t),class:"mb-2",clearable:"",label:"Hotel Name"},null,8,["modelValue"])])),_:1})])),_:1}),(0,i.Wm)(k.o,null,{default:(0,i.w5)((()=>[(0,i.Wm)(T.D,{cols:"12"},{default:(0,i.w5)((()=>[(0,i.Wm)(m.T,{size:"large",value:"AddNewLocation",onClick:t[25]||(t[25]=e=>n.createHotel())},{default:(0,i.w5)((()=>[(0,i.Wm)(p.t,null,{default:(0,i.w5)((()=>[(0,i.Uk)("mdi-plus-circle-outline")])),_:1}),(0,i.Uk)(" Add Hotel ")])),_:1})])),_:1})])),_:1}),Lt,(0,i.Wm)(ue.J),Ut,(0,i.Wm)(he.t,{items:e.allHotel,height:"300","item-height":"50"},{default:(0,i.w5)((({item:e})=>[(0,i.Wm)(ce.l,null,{prepend:(0,i.w5)((()=>[(0,i.Wm)(de.V,{rounded:"0",image:e.ImageURL,class:"text-white",size:"90"},null,8,["image"])])),append:(0,i.w5)((()=>[(0,i.Wm)(m.T,{size:"small",variant:"tonal",onClick:t=>n.addHotelFromList(e)},{default:(0,i.w5)((()=>[(0,i.Wm)(p.t,{color:"orange-darken-4",end:""},{default:(0,i.w5)((()=>[(0,i.Uk)(" mdi-plus ")])),_:1}),(0,i.Uk)(" Add Hotel ")])),_:2},1032,["onClick"])])),default:(0,i.w5)((()=>[(0,i.Wm)(me.V,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,d.zw)(e.HotelName),1)])),_:2},1024),(0,i.Wm)(me.V)])),_:2},1024)])),_:1},8,["items"])])),_:1})])),_:1},8,["modelValue"]),(0,i.Wm)(Z.y,{modelValue:e.lochtlOverlay,"onUpdate:modelValue":t[27]||(t[27]=t=>e.lochtlOverlay=t),contained:"",class:"align-center justify-center"},{default:(0,i.w5)((()=>[(0,i.Wm)(_._,{class:"mx-auto px-10 py-8",width:"800px",height:"530"},{default:(0,i.w5)((()=>[It,(0,i.Wm)(ue.J),(0,i.Wm)(he.t,{items:e.showLoc,height:"200","item-height":"50"},{default:(0,i.w5)((({item:e})=>[(0,i.Wm)(ce.l,null,{prepend:(0,i.w5)((()=>[(0,i.Wm)(de.V,{rounded:"0",image:e.ImageURL,class:"text-white",size:"90"},null,8,["image"])])),default:(0,i.w5)((()=>[(0,i.Wm)(me.V,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,d.zw)(e.Address),1)])),_:2},1024),(0,i.Wm)(me.V,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,d.zw)(e.Description),1)])),_:2},1024)])),_:2},1024)])),_:1},8,["items"]),bt,Dt,(0,i.Wm)(ue.J),(0,i.Wm)(he.t,{items:e.showHtl,height:"200","item-height":"50"},{default:(0,i.w5)((({item:e})=>[(0,i.Wm)(ce.l,null,{prepend:(0,i.w5)((()=>[(0,i.Wm)(de.V,{rounded:"0",image:e.ImageURL,class:"text-white",size:"90"},null,8,["image"])])),default:(0,i.w5)((()=>[(0,i.Wm)(me.V,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,d.zw)(e.HotelName),1)])),_:2},1024)])),_:2},1024)])),_:1},8,["items"]),kt,Tt])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,i.Wm)(_._,{class:"mx-auto px-10 py-8","max-width":"100%","max-height":"20%"}),(0,i.Wm)(O.v,{modelValue:e.snackbar,"onUpdate:modelValue":t[28]||(t[28]=t=>e.snackbar=t),timeout:e.timeout},{default:(0,i.w5)((()=>[(0,i.Uk)((0,d.zw)(e.snackbarMsg),1)])),_:1},8,["modelValue","timeout"]),(0,i.Wm)(Z.y,{"model-value":e.loadingOverlay,class:"align-center justify-center",persistent:e.diableOverlay},{default:(0,i.w5)((()=>[(0,i.Wm)(K.L,{color:"primary",indeterminate:"",size:"64"})])),_:1},8,["model-value","persistent"]),(0,i.Uk)(" "+(0,d.zw)(e.loadingOverlayMSG),1)])),_:1})}var Ht={addTripImages(e){return j().post("/addTripImages",e)},getTripImages(e){return j().post("/getTripImages",e)},deleteTripImages(e){return j().post("/deleteTripImages",e)}},Ot={data:()=>({form:!1,loading:!1,snackbar:!1,timeout:2e3,activeImg:0,loadingOverlay:!1,loadingOverlayMSG:"",diableOverlay:!0,tripID:"",URL:"",title:null,cost:null,decription:null,to:null,from:null,nights:null,days:null,location:null,imgURL:"",tripimgs:[],deleteImgURLs:[],addImgURLs:[],itenary:"",dayIt:"",itenarys:[],deleteItenarys:[],addItenarys:[],snackbarMsg:"",locName:"",hotelName:"",locOverlay:!1,hotelOverlay:!1,createLocIMG:"",createLoc:"",createLocDes:"",createHotelname:"",createHotelIMG:"",allLoc:[],allHotel:[],getTripDetailsCount:0,addLocAry:[],addHotelAry:[],showLoc:[],showHtl:[],lochtlOverlay:!1,joinedUsers:[]}),methods:{addImg(){""!=this.imgURL&&(this.tripimgs.push({id:"",url:this.imgURL}),this.addImgURLs.push(this.imgURL),this.imgURL="")},deleteImg(e){console.log("delete image"+e.id),this.tripimgs.splice(this.tripimgs.indexOf(e),1),""!=e.id?this.deleteImgURLs.push(e.id):this.addImgURLs.splice(this.addImgURLs.indexOf(e),1)},addItenary(){""!=this.dayIt&&""!=this.itenary?(this.itenarys.push({id:"",day:this.dayIt,activity:this.itenary,locationID:this.locName,hotelID:this.hotelName,data:"Day "+this.dayIt+": "+this.itenary}),this.addItenarys.push({day:this.dayIt,activity:this.itenary,locationID:this.locName,hotelID:this.hotelName}),this.itenary="",this.dayIt="",this.locName="",this.hotelName="",this.addLocAry=[],this.addHotelAry=[]):this.showSnackles("Please fill day and location to add Itinerary.")},deleteItenary(e){console.log("del click: "+e),this.itenarys.splice(this.itenarys.indexOf(e),1),""!=e.id?this.deleteItenarys.push(e.id):this.addItenarys.splice(this.addItenarys.indexOf(e),1)},getTripID(){this.tripID=this.$store.state.editTripId,console.log("Edit trip: "+this.tripID)},async GetTripsDetails(){await M.getTrip({tripID:this.tripID}).then((e=>{this.trips=e.data,this.title=this.trips.tripTitle,this.location=this.trips.location,this.cost=this.trips.costperperson,this.days=this.trips.days,this.nights=this.trips.nights,this.decription=this.trips.description,this.from=this.trips.fromdate,this.to=this.trips.todate,this.URL=this.trips.thumbnailURL,this.getTripDetailsCount=this.getTripDetailsCount+1})),console.log("Trip Details : "+this.trips)},async GetItinerarysDetails(){this.loadingOverlay=!0,await _e.getItinerarys({tripID:this.tripID}).then((e=>{console.log("Itinerary"+e),e.data.forEach((e=>{console.log(e),this.itenarys.push({id:e.id,day:e.day,activity:e.activity,locationID:e.locationID,hotelID:e.hotelID,data:"Day "+e.day+": "+e.activity})})),this.getTripDetailsCount=this.getTripDetailsCount+1}))},async GetTripImagesDetails(){await Ht.getTripImages({tripID:this.tripID}).then((e=>{console.log("Trip imgs: "+e),e.data.forEach((e=>{console.log(e),this.tripimgs.push({id:e.id,url:e.ImageURL})})),console.log("img after push: "+this.tripimgs),this.getTripDetailsCount=this.getTripDetailsCount+1}))},async UpdateTripDetails(){this.loadingOverlay=!0,await M.UpdateTrip({id:this.tripID,tripTitle:this.title,location:this.location,days:this.days,nights:this.nights,costperperson:this.cost,fromdate:this.from,todate:this.to,description:this.decription,thumbnailURL:this.URL}).then((e=>{console.log("Itinerary"+e),e.data.forEach((e=>{console.log(e)})),this.sendNotification(),this.showSnackles("Trip details updated succesfully."),this.loadingOverlay=!1}))},UpdateItinerarys(){this.deleteItenarys.forEach((e=>{this.delItinerary(e)})),this.addItenarys.forEach((e=>{this.addItinerary(e)})),this.sendNotification()},async delItinerary(e){this.loadingOverlay=!0,await _e.deleteItinerarys({id:e}).then((e=>{console.log("Itinerary"+e),this.showSnackles("Itinerary(s) DELETED succesfully."),this.loadingOverlay=!1}))},async addItinerary(e){this.loadingOverlay=!0,await _e.addItinerary({day:e.day,activity:e.activity,locationID:e.locationID,hotelID:e.hotelID,tripID:this.tripID}).then((e=>{console.log("Itinerary"+e),this.showSnackles("Itinerary details updated succesfully."),this.loadingOverlay=!1}))},UpdateImg(){console.log("del ary: "+this.deleteImgURLs),this.deleteImgURLs.forEach((e=>{console.log(e),this.delTripImg(e)})),this.addImgURLs.forEach((e=>{console.log("add: "+e),this.addTripImg(e)})),this.sendNotification()},async delTripImg(e){this.loadingOverlay=!0,console.log("add: "+e),await Ht.deleteTripImages({id:e}).then((e=>{console.log("TripIMG"+e),this.showSnackles("Trip image(s) DELETED succesfully."),this.loadingOverlay=!1}))},async addTripImg(e){this.loadingOverlay=!0,console.log(e),await Ht.addTripImages({ImageURL:e,tripID:this.tripID}).then((e=>{console.log("TripIMG"+e),this.showSnackles("Trip images updated succesfully."),this.loadingOverlay=!1}))},showSnackles(e){this.snackbarMsg=e,this.snackbar=!0},showLocationOverLay(){this.locOverlay=!this.locOverlay},showHotelOverLay(){this.hotelOverlay=!this.hotelOverlay},async createLocation(){""!=this.createLoc&&null!=this.createLocIMG?(this.loadingOverlay=!0,await _e.addLocation({Address:this.createLoc,Description:this.createLocDes,ImageURL:this.createLocIMG}).then((e=>{console.log("create Location: "+e),this.showSnackles("Location added succesfully."),this.allLoc.push({id:e.data.id,Address:e.data.Address,Description:e.data.Description,ImageURL:e.data.ImageURL}),""!=this.locName?this.locName=this.locName+","+e.data.id:this.locName=e.data.id,this.addLocAry.push({Address:this.createLoc,Description:this.createLocDes,ImageURL:this.createLocIMG}),this.createLoc="",this.createLocDes="",this.createLocIMG="",this.loadingOverlay=!1,this.locOverlay=!this.locOverlay}))):this.showSnackles("Please Fill Location and Location image URL to continue.")},async createHotel(){""!=this.createHotelname&&""!=this.createHotelIMG?(this.loadingOverlay=!0,await _e.addHotel({HotelName:this.createHotelname,ImageURL:this.createHotelIMG}).then((e=>{console.log("Create Hotel: "+e),this.showSnackles("Hotel added succesfully."),this.allHotel.push({id:e.data.id,HotelName:e.data.HotelName,ImageURL:e.data.ImageURL}),""!=this.hotelName?this.hotelName=this.hotelName+","+e.data.id:this.hotelName=e.data.id,this.addHotelAry.push({HotelName:this.createHotelname,ImageURL:this.createHotelIMG}),this.createHotelname="",this.createHotelIMG="",this.loadingOverlay=!1,this.hotelOverlay=!this.hotelOverlay}))):this.showSnackles("Please Fill Hotel Name and Hotel image URL to continue.")},async getLocation(){await _e.getLocation().then((e=>{console.log("get Location: "+e.data),e.data.forEach((e=>{this.allLoc.push(e)})),this.loadingOverlay=!1}))},async getHotel(){await _e.getHotels().then((e=>{console.log("get Hotel: "+e.data),e.data.forEach((e=>{this.allHotel.push(e)})),this.loadingOverlay=!1}))},addLocationFromList(e){this.addLocAry.push({Address:e.Address,Description:e.Description,ImageURL:e.ImageURL}),""!=this.locName?this.locName=this.locName+","+e.id:this.locName=e.id,this.locOverlay=!this.locOverlay},addHotelFromList(e){""!=this.hotelName?this.hotelName=this.hotelName+","+e.id:this.hotelName=e.id,this.addHotelAry.push({HotelName:e.HotelName,ImageURL:e.ImageURL}),this.hotelOverlay=!this.hotelOverlay},clearItineraryAdd(){this.dayIt="",this.itenary="",this.locName="",this.hotelName="",this.addLocAry=[],this.addHotelAry=[]},showAddedLocAndHotels(e,t){this.showLoc=[],this.showHtl=[],console.log("Locations : "+e+"  Hotels: "+t),console.log("locations count: "+this.allLoc.length+"  Hotels count: "+this.allHotel.length),e.toString().length>0&&e.toString().split(",").forEach((e=>{var t=this.allLoc.filter((t=>t.id==e));t.length>0&&this.showLoc.push(t[0])})),t.toString().length>0&&t.toString().split(",").forEach((e=>{var t=this.allHotel.filter((t=>t.id==e));t.length>0&&this.showHtl.push(t[0])})),this.lochtlOverlay=!this.lochtlOverlay},async getJoinedUsers(){console.log(this.tripID),await oe.getJoinedTripUsers(this.tripID).then((e=>{e.data.forEach((e=>{this.joinedUsers.push(e.userID)}))}))},sendNotification(){this.joinedUsers.forEach((e=>{this.addNotification(e)}))},async addNotification(e){console.log(e),await Me.addNotifications({tripID:this.tripID,userID:e,tripName:this.title,action:"change"})},async deleteTrip(){this.loadingOverlay=!0,this.loadingOverlayMSG="Deleting...",console.log(this.tripID),await M.deleteTrip(this.tripID).then((()=>{this.loadingOverlayMSG="Redirecting...",this.loadingOverlay=!1,nl.push("/")}))}},watch:{getTripDetailsCount:function(){this.getTripDetailsCount>=3&&(this.loadingOverlay=!1)}},beforeMount(){this.loadingOverlay=!0,this.getTripID(),this.GetTripsDetails(),this.GetItinerarysDetails(),this.GetTripImagesDetails(),this.getLocation(),this.getHotel(),this.getJoinedUsers()}};const At=(0,S.Z)(Ot,[["render",Vt]]);var xt=At,Rt=l(795),Ct=l(2773);const Nt=(0,i._)("br",null,null,-1),zt=(0,i._)("h3",null,"Location: ",-1),jt=(0,i._)("h3",null,"Cost per person: ",-1),Mt=(0,i._)("h3",null,"Days: ",-1),Gt=(0,i._)("h3",null,"Nights: ",-1),St=(0,i._)("h3",null,"From: ",-1),Et=(0,i._)("h3",null,"To: ",-1),$t=(0,i._)("br",null,null,-1),Ft=(0,i._)("br",null,null,-1),qt=(0,i._)("h3",null,"Description",-1),Jt=(0,i._)("br",null,null,-1),Pt=(0,i._)("br",null,null,-1),Zt=(0,i._)("h3",null,"Detailed Plan",-1),Kt=(0,i._)("h4",null,"Locations:",-1),Yt=(0,i._)("br",null,null,-1),Bt=(0,i._)("h4",null,"Hotels:",-1),Qt=(0,i._)("br",null,null,-1),Xt=(0,i._)("br",null,null,-1);function el(e,t,l,o,s,n){return(0,i.wg)(),(0,i.j4)(H.C,null,{default:(0,i.w5)((()=>[(0,i.Wm)(_._,{class:"mx-auto px-10 py-8","max-width":"85%"},{default:(0,i.w5)((()=>[(0,i.Wm)(k.o,null,{default:(0,i.w5)((()=>[(0,i.Wm)(T.D,{cols:"12"},{default:(0,i.w5)((()=>[(0,i.Wm)(_._,null,{default:(0,i.w5)((()=>[(0,i.Wm)(V.f,{src:e.thumbnailURL,"max-height":"350",class:"bg-grey-lighten-2"},null,8,["src"]),(0,i.Wm)(b.E,{class:"text-h6"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,d.zw)(e.title),1)])),_:1}),(0,i.Wm)(P.h,null,{default:(0,i.w5)((()=>[(0,i.wy)((0,i.Wm)(m.T,{color:"teal-accent-4",variant:"elevated",rounded:"xl",onClick:n.joinTrip},{default:(0,i.w5)((()=>[(0,i.Uk)(" Join Trip ")])),_:1},8,["onClick"]),[[a.F8,this.$store.state.isUserLoggedIn&&"Admin"!=this.$store.state.permission&&""==e.joined]]),(0,i.wy)((0,i.Wm)(m.T,{color:"teal-accent-4",variant:"elevated",rounded:"xl",disabled:""},{default:(0,i.w5)((()=>[(0,i.Uk)(" Joined ")])),_:1},512),[[a.F8,this.$store.state.isUserLoggedIn&&"Admin"!=this.$store.state.permission&&"joined"==e.joined]]),(0,i.wy)((0,i.Wm)(m.T,{color:"teal-accent-4",variant:"elevated",rounded:"xl",disabled:""},{default:(0,i.w5)((()=>[(0,i.Uk)(" Requested ")])),_:1},512),[[a.F8,this.$store.state.isUserLoggedIn&&"Admin"!=this.$store.state.permission&&"requested"==e.joined]]),(0,i.wy)((0,i.Wm)(m.T,{color:"teal-accent-4",variant:"elevated",rounded:"xl",disabled:""},{default:(0,i.w5)((()=>[(0,i.Uk)(" Rejected ")])),_:1},512),[[a.F8,this.$store.state.isUserLoggedIn&&"Admin"!=this.$store.state.permission&&"rejected"==e.joined]]),(0,i.wy)((0,i.Wm)(m.T,{color:"teal-accent-4",variant:"elevated",rounded:"xl",onClick:n.editTrip},{default:(0,i.w5)((()=>[(0,i.Uk)(" Edit Trip ")])),_:1},8,["onClick"]),[[a.F8,"Admin"==this.$store.state.permission]])])),_:1})])),_:1})])),_:1})])),_:1}),Nt,(0,i.Wm)(k.o,null,{default:(0,i.w5)((()=>[(0,i.Wm)(T.D,{cols:"12",md:"12"},{default:(0,i.w5)((()=>[zt,(0,i._)("p",null,(0,d.zw)(e.location),1)])),_:1})])),_:1}),(0,i.Wm)(k.o,null,{default:(0,i.w5)((()=>[(0,i.Wm)(T.D,{cols:"12",md:"12"},{default:(0,i.w5)((()=>[jt,(0,i._)("p",null,(0,d.zw)(e.cost)+" $",1)])),_:1})])),_:1}),(0,i.Wm)(k.o,null,{default:(0,i.w5)((()=>[(0,i.Wm)(T.D,{cols:"12",md:"2"},{default:(0,i.w5)((()=>[Mt,(0,i._)("p",null,(0,d.zw)(e.days),1)])),_:1}),(0,i.Wm)(T.D,{cols:"12",md:"2"},{default:(0,i.w5)((()=>[Gt,(0,i._)("p",null,(0,d.zw)(e.nights),1)])),_:1}),(0,i.Wm)(T.D,{cols:"12",md:"4"},{default:(0,i.w5)((()=>[St,(0,i._)("p",null,(0,d.zw)(e.from),1)])),_:1}),(0,i.Wm)(T.D,{cols:"12",md:"4"},{default:(0,i.w5)((()=>[Et,(0,i._)("p",null,(0,d.zw)(e.to),1)])),_:1})])),_:1}),$t,(0,i.Wm)(ue.J),Ft,(0,i.Wm)(k.o,null,{default:(0,i.w5)((()=>[(0,i.Wm)(T.D,{cols:"12"},{default:(0,i.w5)((()=>[((0,i.wg)(),(0,i.j4)(ct.k,{modelValue:e.activeImg,"onUpdate:modelValue":t[0]||(t[0]=t=>e.activeImg=t),key:this.tripimgs},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.tripimgs,(e=>((0,i.wg)(),(0,i.j4)(mt.f,{src:e,cover:"",key:e},null,8,["src"])))),128))])),_:1},8,["modelValue"]))])),_:1})])),_:1}),(0,i.Wm)(k.o,null,{default:(0,i.w5)((()=>[(0,i.Wm)(T.D,{cols:"12"},{default:(0,i.w5)((()=>[qt,(0,i._)("p",null,(0,d.zw)(e.decription),1)])),_:1})])),_:1}),Jt,(0,i.Wm)(ue.J),Pt,(0,i.Wm)(k.o,null,{default:(0,i.w5)((()=>[(0,i.Wm)(T.D,{cols:"12"},{default:(0,i.w5)((()=>[Zt,(0,i.Wm)(Rt.R,{side:"end"},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.itenarys,(e=>((0,i.wg)(),(0,i.j4)(Ct.N,{key:e,size:"small"},{default:(0,i.w5)((()=>[(0,i.Wm)(Je.w,{value:!0,width:"500"},{default:(0,i.w5)((()=>[(0,i.Wm)(k.o,null,{default:(0,i.w5)((()=>[(0,i.Wm)(T.D,{cols:"2"},{default:(0,i.w5)((()=>[(0,i._)("h4",null,"Day: "+(0,d.zw)(e.day),1)])),_:2},1024),(0,i.Wm)(T.D,{cols:"6"},{default:(0,i.w5)((()=>[(0,i._)("h4",null,(0,d.zw)(e.activity),1)])),_:2},1024)])),_:2},1024),(0,i.Wm)(k.o,null,{default:(0,i.w5)((()=>[(0,i.Wm)(T.D,{cols:"2"}),(0,i.Wm)(T.D,{cols:"6"},{default:(0,i.w5)((()=>[(0,i.Wm)(m.T,{size:"small",variant:"plain",color:"blue",onClick:t=>n.showAddedLocAndHotels(e.locationID,e.hotelID)},{default:(0,i.w5)((()=>[(0,i.Uk)("Show Locations and Hotels")])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1})])),_:1}),(0,i.Wm)(O.v,{modelValue:e.snackbar,"onUpdate:modelValue":t[1]||(t[1]=t=>e.snackbar=t),timeout:e.timeout},null,8,["modelValue","timeout"]),(0,i.Wm)(Z.y,{"model-value":e.loadingOverlay,class:"align-center justify-center",persistent:e.diableOverlay},{default:(0,i.w5)((()=>[(0,i.Wm)(K.L,{color:"primary",indeterminate:"",size:"64"})])),_:1},8,["model-value","persistent"]),(0,i.Wm)(Z.y,{modelValue:e.lochtlOverlay,"onUpdate:modelValue":t[2]||(t[2]=t=>e.lochtlOverlay=t),contained:"",class:"align-center justify-center","location-strategy":"connected"},{default:(0,i.w5)((()=>[(0,i.Wm)(_._,{class:"mx-auto px-10 py-8",width:"800px",height:"530px"},{default:(0,i.w5)((()=>[Kt,(0,i.Wm)(ue.J),(0,i.Wm)(he.t,{items:e.showLoc,height:"200","item-height":"50"},{default:(0,i.w5)((({item:e})=>[(0,i.Wm)(ce.l,null,{prepend:(0,i.w5)((()=>[(0,i.Wm)(de.V,{rounded:"0",image:e.ImageURL,class:"text-white",size:"90"},null,8,["image"])])),default:(0,i.w5)((()=>[(0,i.Wm)(me.V,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,d.zw)(e.Address),1)])),_:2},1024),(0,i.Wm)(me.V,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,d.zw)(e.Description),1)])),_:2},1024)])),_:2},1024)])),_:1},8,["items"]),Yt,Bt,(0,i.Wm)(ue.J),(0,i.Wm)(he.t,{items:e.showHtl,height:"200","item-height":"50"},{default:(0,i.w5)((({item:e})=>[(0,i.Wm)(ce.l,null,{prepend:(0,i.w5)((()=>[(0,i.Wm)(de.V,{rounded:"0",image:e.ImageURL,class:"text-white",size:"90"},null,8,["image"])])),default:(0,i.w5)((()=>[(0,i.Wm)(me.V,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,d.zw)(e.HotelName),1)])),_:2},1024)])),_:2},1024)])),_:1},8,["items"]),Qt,Xt])),_:1})])),_:1},8,["modelValue"])])),_:1})}var tl={data:()=>({loadingOverlay:!1,diableOverlay:!0,getTripDetailsCount:0,thumbnailURL:"",title:"",cost:null,decription:"",to:null,from:null,nights:null,days:null,location:null,tripimgs:[],itenarys:[],tripID:"",activeImg:0,joined:"",username:"",allLoc:[],allHotel:[],showLoc:[],showHtl:[],lochtlOverlay:!1}),methods:{async GetTripsDetails(){console.log("get trip: "+this.tripid),await M.getTrip({tripID:this.tripID}).then((e=>{this.trips=e.data,this.title=this.trips.tripTitle,this.location=this.trips.location,this.cost=this.trips.costperperson,this.days=this.trips.days,this.nights=this.trips.nights,this.decription=this.trips.description,this.from=this.trips.fromdate,this.to=this.trips.todate,this.thumbnailURL=this.trips.thumbnailURL,this.getTripDetailsCount=this.getTripDetailsCount+1})),console.log(this.trips)},getTripID(){this.tripID=this.$store.state.viewTripId,this.username=this.$store.state.username,console.log("view trip: "+this.tripID)},async GetItinerarysDetails(){await _e.getItinerarys({tripID:this.tripID}).then((e=>{console.log(e),e.data.forEach((e=>{console.log(e),this.itenarys.push({day:e.day,activity:e.activity,locationID:e.locationID,hotelID:e.hotelID})})),this.getTripDetailsCount=this.getTripDetailsCount+1}))},async GetTripImagesDetails(){await Ht.getTripImages({tripID:this.tripID}).then((e=>{console.log(e),e.data.forEach((e=>{console.log(e),this.tripimgs.push(e.ImageURL)})),this.getTripDetailsCount=this.getTripDetailsCount+1}))},editTrip(){this.$store.commit("setviewTripId",this.tripID),this.$store.commit("seteditTripId",this.tripID),nl.push("/updatetrip")},async joinTrip(){console.log("Join trip"),console.log(this.username),console.log(this.tripID),""!=this.username&&""!=this.tripID&&await oe.addJoinedTrip({userID:this.username,tripID:this.tripID,tripName:this.title,status:"requested"}).then((e=>{console.log(e),this.joined="requested"}))},async checkTripJoined(){console.log("Check Join trip"),""!=this.username&&""!=this.tripID&&await oe.checkIsJoinedTrips({userID:this.username,tripID:this.tripID}).then((e=>{console.log(e),this.joined=e.data.joined}))},async getLocation(){await _e.getLocation().then((e=>{console.log("get Location: "+e.data),e.data.forEach((e=>{this.allLoc.push(e)}))}))},async getHotel(){await _e.getHotels().then((e=>{console.log("get Hotel: "+e.data),e.data.forEach((e=>{this.allHotel.push(e)}))}))},showAddedLocAndHotels(e,t){this.showLoc=[],this.showHtl=[],console.log("Locations : "+e+"  Hotels: "+t),console.log("locations count: "+this.allLoc.length+"  Hotels count: "+this.allHotel.length),e.toString().length>0&&e.toString().split(",").forEach((e=>{var t=this.allLoc.filter((t=>t.id==e));t.length>0&&this.showLoc.push(t[0])})),t.toString().length>0&&t.toString().split(",").forEach((e=>{var t=this.allHotel.filter((t=>t.id==e));t.length>0&&this.showHtl.push(t[0])})),this.lochtlOverlay=!this.lochtlOverlay,window.scroll(400,400)}},watch:{getTripDetailsCount:function(){console.log("loading count: "+this.getTripDetailsCount),this.getTripDetailsCount>=3&&(this.loadingOverlay=!1)}},beforeMount(){this.loadingOverlay=!0,this.getTripID(),this.checkTripJoined(),this.GetTripsDetails(),this.GetItinerarysDetails(),this.GetTripImagesDetails(),this.getLocation(),this.getHotel()}};const ll=(0,S.Z)(tl,[["render",el]]);var al=ll,il=l(2119);const ol=[{path:"/",name:"home",component:qe},{path:"/register",name:"register",component:tt},{path:"/login",name:"login",component:ut},{path:"/updatetrip",name:"updatetrip",component:xt},{path:"/viewtrip",name:"viewtrip",component:al,props:!0}],sl=(0,il.p7)({history:(0,il.PO)("/"),routes:ol});var nl=sl,rl={name:"NavBar",data:()=>({showLoginBtn:!0,UserName:"",isUserLoggedIn:!1}),methods:{onLoad(){const e=(0,y.oR)();console.log(e.state.isUserLoggedIn),console.log(e.state.username),this.isUserLoggedIn=e.state.isUserLoggedIn,this.UserName=e.state.username},logout(){this.UserName="",this.isUserLoggedIn=!1,this.$store.commit("setUserName",""),this.$store.commit("setPermission",""),this.$store.commit("setIsUserLoggedIn",!1),nl.push("/")}},beforeMount(){this.onLoad()}};const dl=(0,S.Z)(rl,[["render",f]]);var ul=dl,cl={components:{NavBar:ul},name:"App",data:()=>({})};const ml=(0,S.Z)(cl,[["render",r]]);var hl=ml,pl=(l(9773),l(8727)),gl=(0,pl.Rd)();async function wl(){const e=await l.e(461).then(l.t.bind(l,5933,23));e.load({google:{families:["Roboto:100,300,400,500,700,900&display=swap"]}})}wl();const fl=(0,y.MT)({state(){return{username:"Admin",permission:"Admin",isUserLoggedIn:!0,viewTripId:"1",editTripId:"1"}},mutations:{setUserName(e,t){e.username=t},setPermission(e,t){e.permission=t},setIsUserLoggedIn(e,t){e.isUserLoggedIn=t},setviewTripId(e,t){e.viewTripId=t},seteditTripId(e,t){e.editTripId=t}}});(0,a.ri)(hl).use(gl).use(nl).use(fl).mount("#app")}},t={};function l(a){var i=t[a];if(void 0!==i)return i.exports;var o=t[a]={exports:{}};return e[a].call(o.exports,o,o.exports,l),o.exports}l.m=e,function(){var e=[];l.O=function(t,a,i,o){if(!a){var s=1/0;for(u=0;u<e.length;u++){a=e[u][0],i=e[u][1],o=e[u][2];for(var n=!0,r=0;r<a.length;r++)(!1&o||s>=o)&&Object.keys(l.O).every((function(e){return l.O[e](a[r])}))?a.splice(r--,1):(n=!1,o<s&&(s=o));if(n){e.splice(u--,1);var d=i();void 0!==d&&(t=d)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[a,i,o]}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};l.t=function(a,i){if(1&i&&(a=this(a)),8&i)return a;if("object"===typeof a&&a){if(4&i&&a.__esModule)return a;if(16&i&&"function"===typeof a.then)return a}var o=Object.create(null);l.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var n=2&i&&a;"object"==typeof n&&!~e.indexOf(n);n=t(n))Object.getOwnPropertyNames(n).forEach((function(e){s[e]=function(){return a[e]}}));return s["default"]=function(){return a},l.d(o,s),o}}(),function(){l.d=function(e,t){for(var a in t)l.o(t,a)&&!l.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){l.f={},l.e=function(e){return Promise.all(Object.keys(l.f).reduce((function(t,a){return l.f[a](e,t),t}),[]))}}(),function(){l.u=function(e){return"js/webfontloader.0a1540e5.js"}}(),function(){l.miniCssF=function(e){}}(),function(){l.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="client:";l.l=function(a,i,o,s){if(e[a])e[a].push(i);else{var n,r;if(void 0!==o)for(var d=document.getElementsByTagName("script"),u=0;u<d.length;u++){var c=d[u];if(c.getAttribute("src")==a||c.getAttribute("data-webpack")==t+o){n=c;break}}n||(r=!0,n=document.createElement("script"),n.charset="utf-8",n.timeout=120,l.nc&&n.setAttribute("nonce",l.nc),n.setAttribute("data-webpack",t+o),n.src=a),e[a]=[i];var m=function(t,l){n.onerror=n.onload=null,clearTimeout(h);var i=e[a];if(delete e[a],n.parentNode&&n.parentNode.removeChild(n),i&&i.forEach((function(e){return e(l)})),t)return t(l)},h=setTimeout(m.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=m.bind(null,n.onerror),n.onload=m.bind(null,n.onload),r&&document.head.appendChild(n)}}}(),function(){l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){l.p="/"}(),function(){var e={143:0};l.f.j=function(t,a){var i=l.o(e,t)?e[t]:void 0;if(0!==i)if(i)a.push(i[2]);else{var o=new Promise((function(l,a){i=e[t]=[l,a]}));a.push(i[2]=o);var s=l.p+l.u(t),n=new Error,r=function(a){if(l.o(e,t)&&(i=e[t],0!==i&&(e[t]=void 0),i)){var o=a&&("load"===a.type?"missing":a.type),s=a&&a.target&&a.target.src;n.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",n.name="ChunkLoadError",n.type=o,n.request=s,i[1](n)}};l.l(s,r,"chunk-"+t,t)}},l.O.j=function(t){return 0===e[t]};var t=function(t,a){var i,o,s=a[0],n=a[1],r=a[2],d=0;if(s.some((function(t){return 0!==e[t]}))){for(i in n)l.o(n,i)&&(l.m[i]=n[i]);if(r)var u=r(l)}for(t&&t(a);d<s.length;d++)o=s[d],l.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return l.O(u)},a=self["webpackChunkclient"]=self["webpackChunkclient"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=l.O(void 0,[998],(function(){return l(8235)}));a=l.O(a)})();
//# sourceMappingURL=app.35041486.js.map