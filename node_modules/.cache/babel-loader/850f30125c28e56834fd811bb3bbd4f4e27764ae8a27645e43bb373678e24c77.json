{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport UserAuthenticationService from '@/services/UserAuthenticationService';\nexport default {\n  data: () => ({\n    refreshAllTrips: false,\n    loadingOverlay: false,\n    diableOverlay: true,\n    loadingMSG: \"Loading...\",\n    username: \"\",\n    password: \"\",\n    selectRole: \"\",\n    clerks: [],\n    deliveryman: []\n  }),\n  methods: {\n    async getAllUsers() {\n      await UserAuthenticationService.getAlUsers().then(response => {\n        response.data.forEach(element => {\n          if (element.permission == \"2\") {\n            this.clerks.push(element);\n          } else if (element.permission == \"3\") {\n            this.deliveryman.push(element);\n          }\n        });\n        this.loadingOverlay = false;\n      });\n    },\n    async AddUser() {\n      if (this.selectRole == \"Clerk\") {\n        this.loadingOverlay = true;\n        await UserAuthenticationService.register({\n          username: this.username,\n          password: this.password,\n          permission: \"2\"\n        }).then(response => {\n          console.log(\"create clerk: \" + response);\n          this.clerks.push({\n            \"id\": response.data.id,\n            \"username\": response.data.username,\n            \"permission\": response.data.permission\n          });\n          this.username = \"\";\n          this.password = \"\";\n          this.selectRole = \"\";\n          this.loadingOverlay = false;\n        });\n      } else if (this.selectRole == \"Courier\") {\n        this.loadingOverlay = true;\n        await UserAuthenticationService.register({\n          username: this.username,\n          password: this.password,\n          permission: \"3\"\n        }).then(response => {\n          console.log(\"create Delivery man: \" + response);\n          this.deliveryman.push({\n            \"id\": response.data.id,\n            \"username\": response.data.username,\n            \"permission\": response.data.permission\n          });\n          this.username = \"\";\n          this.password = \"\";\n          this.selectRole = \"\";\n          this.loadingOverlay = false;\n        });\n      } else {\n        this.showSnackles(\"Please Fill all details to continue.\");\n      }\n    },\n    async deleteUser(user) {\n      console.log(user);\n      this.loadingOverlay = true;\n      this.loadingMSG = \"Deleting...\";\n      var deleteHot = await UserAuthenticationService.deleteUser(user.id).then(() => {\n        this.loadingOverlay = false;\n        this.refreshAllTrips = !this.refreshAllTrips;\n      });\n      console.log(deleteHot);\n    }\n  },\n  beforeMount() {\n    console.log(\"All Users start...\");\n    this.loadingOverlay = true;\n    this.getAllUsers();\n  },\n  watch: {\n    refreshAllTrips: function () {\n      this.loadingOverlay = true;\n      this.clerks = [];\n      this.deliveryman = [];\n      this.getAllUsers();\n    }\n  }\n};","map":{"version":3,"names":["UserAuthenticationService","data","refreshAllTrips","loadingOverlay","diableOverlay","loadingMSG","username","password","selectRole","clerks","deliveryman","methods","getAllUsers","getAlUsers","then","response","forEach","element","permission","push","AddUser","register","console","log","id","showSnackles","deleteUser","user","deleteHot","beforeMount","watch"],"sources":["/Users/meenusnehithirava/Desktop/acme/client/src/components/AllUsers.vue"],"sourcesContent":["<template>\n  <div>\n    <v-row class=\"text-right\"> \n      <v-col col=\"12\" mb=\"2\">\n        <v-btn\n          prepend-icon=\"mdi-account-circle\"\n          @click=\"refreshAllTrips = !refreshAllTrips\"\n        >\n          <template v-slot:prepend>\n            <v-icon color=\"primary\">mdi-refresh</v-icon>\n          </template>\n            Refresh\n          </v-btn>\n      </v-col>\n    </v-row>\n    <br/>\n\n    <v-card class=\"mx-auto px-10 py-8\" width=\"90%\" height=\"100\">\n      <v-row> \n        <v-col\n          cols=\"12\"\n          md=\"3\"\n        >\n          <v-text-field\n            v-model=\"username\"\n            clearable\n            label=\"UserName\"\n            ></v-text-field>\n        </v-col>\n        <v-col\n          cols=\"12\"\n          md=\"3\"\n        >\n          <v-text-field\n            v-model=\"password\"\n            clearable\n            label=\"Password\"\n            ></v-text-field>\n        </v-col>\n        <v-col\n          cols=\"12\"\n          md=\"3\"\n        >\n          <v-select\n            v-model=\"selectRole\"\n            label=\"Select role\"\n            :items=\"['Clerk', 'Courier']\"\n          ></v-select>\n        </v-col>\n        <v-col\n          cols=\"12\"\n          md=\"3\"\n        >\n          <v-btn\n            color=\"primary\"\n            size=\"large\"\n            type=\"submit\"\n            variant=\"elevated\"\n            rounded=\"xl\"\n            @click=\"AddUser\"\n          >\n            Add User\n          </v-btn>\n        </v-col>\n        \n      </v-row>\n    </v-card>\n    <br/>\n\n    <v-card class=\"mx-auto px-10 py-8\" width=\"90%\" height=\"500\">\n      <div>\n        <v-row> \n          <v-col col=\"6\" mb=\"2\">\n            <h4>Clerks</h4>\n            <v-virtual-scroll :items=\"clerks\" height=\"300\" item-height=\"50\">\n                <template v-slot:default=\"{ item }\">\n                  <v-list-item>\n                    <v-list-item-title>{{ item.username }}</v-list-item-title>\n                    <template v-slot:append>\n                      <v-btn size=\"small\" variant=\"tonal\" @click=\"deleteUser(item)\">\n                        <v-icon color=\"orange-darken-4\" end> mdi-delete-empty </v-icon>&nbsp;\n                        Delete\n                      </v-btn>\n                    </template>\n                  </v-list-item>\n                  <v-divider></v-divider>\n                </template>\n              </v-virtual-scroll>\n          </v-col>\n          <v-col col=\"6\" mb=\"2\">\n            <h4>Courier</h4>\n            <v-virtual-scroll :items=\"deliveryman\" height=\"300\" item-height=\"50\">\n                <template v-slot:default=\"{ item }\">\n                  <v-list-item>\n                    <v-list-item-title>{{ item.username }}</v-list-item-title>\n                    <template v-slot:append>\n                      <v-btn size=\"small\" variant=\"tonal\" @click=\"deleteUser(item)\">\n                        <v-icon color=\"orange-darken-4\" end> mdi-delete-empty </v-icon>&nbsp;\n                        Delete\n                      </v-btn>\n                    </template>\n                  </v-list-item>\n                  <v-divider></v-divider>\n                </template>\n              </v-virtual-scroll>\n          </v-col>\n        </v-row>\n    <br/>\n      </div>\n    </v-card>\n    \n    <v-overlay\n      :model-value=\"loadingOverlay\"\n      class=\"align-center justify-center\"\n      :persistent=\"diableOverlay\"\n    >\n      <v-progress-circular\n        color=\"primary\"\n        indeterminate\n        size=\"64\"\n      ></v-progress-circular>\n      <h3>{{loadingMSG}}</h3>\n    </v-overlay>\n  </div>\n</template>\n\n<script>\nimport UserAuthenticationService from '@/services/UserAuthenticationService'\n\n  export default {\n    data: () => ({\n      refreshAllTrips: false,\n      loadingOverlay: false,\n      diableOverlay:true,\n      loadingMSG: \"Loading...\",\n\n      username: \"\",\n      password: \"\",\n      selectRole:\"\",\n      clerks: [],\n      deliveryman: []\n    }),\n\n    methods: {\n      async getAllUsers(){\n        await UserAuthenticationService.getAlUsers().then((response)=>{\n            response.data.forEach(element => {\n              if(element.permission == \"2\"){\n                this.clerks.push(element)\n              }\n              else if(element.permission == \"3\"){\n                this.deliveryman.push(element)\n              }\n            });\n            this.loadingOverlay = false\n        })\n      },\n      async AddUser(){\n        if(this.selectRole == \"Clerk\"){\n        this.loadingOverlay = true\n          await UserAuthenticationService.register({\n            username: this.username,\n            password: this.password,\n            permission: \"2\"\n          }).then((response)=>{\n            console.log(\"create clerk: \" + response)\n            this.clerks.push({\n              \"id\" : response.data.id,\n              \"username\" : response.data.username,\n              \"permission\" : response.data.permission\n            })\n            \n            this.username = \"\"\n            this.password = \"\"\n            this.selectRole = \"\"\n            \n            this.loadingOverlay = false\n          })\n        }\n        else if(this.selectRole == \"Courier\"){\n          this.loadingOverlay = true\n          await UserAuthenticationService.register({\n            username: this.username,\n            password: this.password,\n            permission: \"3\"\n          }).then((response)=>{\n            console.log(\"create Delivery man: \" + response)\n             this.deliveryman.push({\n              \"id\" : response.data.id,\n              \"username\" : response.data.username,\n              \"permission\" : response.data.permission\n            })\n            \n            this.username = \"\"\n            this.password = \"\"\n            this.selectRole = \"\"\n            \n            this.loadingOverlay = false\n          })\n        }\n        else{\n          this.showSnackles(\"Please Fill all details to continue.\")\n        }\n      },\n      async deleteUser(user){\n        console.log(user)\n        this.loadingOverlay = true\n        this.loadingMSG = \"Deleting...\"\n        var deleteHot = await UserAuthenticationService.deleteUser(user.id).then(()=> {\n          this.loadingOverlay = false\n          this.refreshAllTrips = !this.refreshAllTrips\n        })\n        console.log(deleteHot)\n      }\n    },\n    beforeMount() {\n      console.log(\"All Users start...\")\n      this.loadingOverlay = true\n      this.getAllUsers()\n    },\n    watch: {\n      refreshAllTrips: function(){\n        this.loadingOverlay = true\n        this.clerks = []\n        this.deliveryman = []\n        this.getAllUsers()\n      }\n    }\n  }\n</script>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}