{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, vShow as _vShow, withCtx as _withCtx, withDirectives as _withDirectives, withModifiers as _withModifiers, openBlock as _openBlock, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"h1\", {\n  class: \"text-center\"\n}, \"Register\", -1 /* HOISTED */);\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1 /* HOISTED */);\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1 /* HOISTED */);\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1 /* HOISTED */);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_v_text_field = _resolveComponent(\"v-text-field\");\n  const _component_v_alert = _resolveComponent(\"v-alert\");\n  const _component_v_btn = _resolveComponent(\"v-btn\");\n  const _component_v_form = _resolveComponent(\"v-form\");\n  const _component_v_card = _resolveComponent(\"v-card\");\n  const _component_v_snackbar = _resolveComponent(\"v-snackbar\");\n  const _component_v_sheet = _resolveComponent(\"v-sheet\");\n  return _openBlock(), _createBlock(_component_v_sheet, null, {\n    default: _withCtx(() => [_hoisted_1, _hoisted_2, _createVNode(_component_v_card, {\n      class: \"mx-auto px-6 py-8\",\n      \"max-width\": \"344\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_v_form, {\n        modelValue: _ctx.form,\n        \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => _ctx.form = $event),\n        onSubmit: _withModifiers($options.onSubmit, [\"prevent\"])\n      }, {\n        default: _withCtx(() => [_createVNode(_component_v_text_field, {\n          modelValue: _ctx.username,\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => _ctx.username = $event),\n          readonly: _ctx.loading,\n          rules: [$options.required],\n          class: \"mb-2\",\n          clearable: \"\",\n          label: \"Username\"\n        }, null, 8 /* PROPS */, [\"modelValue\", \"readonly\", \"rules\"]), _createVNode(_component_v_text_field, {\n          modelValue: _ctx.password,\n          \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => _ctx.password = $event),\n          readonly: _ctx.loading,\n          rules: [$options.required],\n          clearable: \"\",\n          label: \"Password\",\n          placeholder: \"Enter your password\",\n          onch: \"\"\n        }, null, 8 /* PROPS */, [\"modelValue\", \"readonly\", \"rules\"]), _createVNode(_component_v_text_field, {\n          modelValue: _ctx.passwordConfirm,\n          \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => _ctx.passwordConfirm = $event),\n          readonly: _ctx.loading,\n          rules: [$options.required],\n          clearable: \"\",\n          label: \"Confirm Password\",\n          placeholder: \"Enter your password\"\n        }, null, 8 /* PROPS */, [\"modelValue\", \"readonly\", \"rules\"]), _withDirectives(_createVNode(_component_v_alert, {\n          variant: \"outlined\",\n          type: \"warning\",\n          prominent: \"\",\n          border: \"top\",\n          value: \"passwordAlert\"\n        }, {\n          default: _withCtx(() => [_createTextVNode(_toDisplayString(_ctx.alertMessage), 1 /* TEXT */)]),\n\n          _: 1 /* STABLE */\n        }, 512 /* NEED_PATCH */), [[_vShow, _ctx.showAlert]]), _hoisted_3, _createVNode(_component_v_btn, {\n          disabled: !_ctx.form,\n          loading: _ctx.loading,\n          block: \"\",\n          color: \"primary\",\n          size: \"large\",\n          type: \"submit\",\n          variant: \"elevated\",\n          rounded: \"xl\",\n          onClick: $options.registerClick\n        }, {\n          default: _withCtx(() => [_createTextVNode(\" Register \")]),\n          _: 1 /* STABLE */\n        }, 8 /* PROPS */, [\"disabled\", \"loading\", \"onClick\"]), _hoisted_4, _createVNode(_component_v_btn, {\n          block: \"\",\n          color: \"primary\",\n          size: \"small\",\n          variant: \"plain\",\n          rounded: \"xl\",\n          to: \"/\"\n        }, {\n          default: _withCtx(() => [_createTextVNode(\" Go to Home \")]),\n          _: 1 /* STABLE */\n        })]),\n\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"modelValue\", \"onSubmit\"])]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_v_snackbar, {\n      modelValue: _ctx.snackbar,\n      \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => _ctx.snackbar = $event),\n      timeout: _ctx.timeout\n    }, {\n      default: _withCtx(() => [_createTextVNode(\" Registeration Success. Please wait while redirecting... \")]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"modelValue\", \"timeout\"])]),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["_createElementVNode","class","_createBlock","_component_v_sheet","_hoisted_1","_hoisted_2","_createVNode","_component_v_card","_component_v_form","_ctx","form","$event","onSubmit","_withModifiers","$options","_component_v_text_field","username","readonly","loading","rules","required","clearable","label","password","placeholder","onch","passwordConfirm","_component_v_alert","variant","type","prominent","border","value","alertMessage","showAlert","_hoisted_3","_component_v_btn","disabled","block","color","size","rounded","onClick","registerClick","_hoisted_4","to","_component_v_snackbar","snackbar","timeout"],"sources":["/Users/mahithareddyragi/Desktop/CourierSerivce/client/src/components/RegisterUser.vue"],"sourcesContent":["<template>\n  <v-sheet>\n    <h1 class=\"text-center\">Register</h1>\n    <br/>\n    <v-card class=\"mx-auto px-6 py-8\" max-width=\"344\">\n      <v-form\n        v-model=\"form\"\n        @submit.prevent=\"onSubmit\"\n      >\n        <v-text-field\n          v-model=\"username\"\n          :readonly=\"loading\"\n          :rules=\"[required]\"\n          class=\"mb-2\"\n          clearable\n          label=\"Username\"\n        ></v-text-field>\n\n        <v-text-field\n          v-model=\"password\"\n          :readonly=\"loading\"\n          :rules=\"[required]\"\n          clearable\n          label=\"Password\"\n          placeholder=\"Enter your password\"\n          onch\n        ></v-text-field>\n\n        <v-text-field\n          v-model=\"passwordConfirm\"\n          :readonly=\"loading\"\n          :rules=\"[required]\"\n          clearable\n          label=\"Confirm Password\"\n          placeholder=\"Enter your password\"\n        ></v-text-field>\n\n        <v-alert\n          variant=\"outlined\"\n          type=\"warning\"\n          prominent\n          border=\"top\"\n          value=\"passwordAlert\"\n          v-show=\"showAlert\"\n        >\n          {{alertMessage}}\n        </v-alert>\n        \n        <br/>\n\n        <v-btn\n          :disabled=\"!form\"\n          :loading=\"loading\"\n          block\n          color=\"primary\"\n          size=\"large\"\n          type=\"submit\"\n          variant=\"elevated\"\n          rounded=\"xl\"\n          @click=\"registerClick\"\n        >\n          Register\n        </v-btn>\n        <br/>\n\n        <v-btn\n          block\n          color=\"primary\"\n          size=\"small\"\n          variant=\"plain\"\n          rounded=\"xl\"\n          to= \"/\"\n        >\n          Go to Home\n        </v-btn>\n\n      </v-form>\n    </v-card>\n\n    <v-snackbar\n      v-model=\"snackbar\"\n      :timeout=\"timeout\"\n    >\n      Registeration Success. Please wait while redirecting...\n    </v-snackbar>\n\n  </v-sheet>\n</template>\n\n<script>\nimport router from '../router'\nimport AuthenticationService from '@/services/UserAuthenticationService'\n\n  export default {\n    data: () => ({\n      form: false,\n      username: null,\n      password: null,\n      passwordConfirm: null,\n      loading: false,\n      showAlert: false,\n      alertMessage: \"\",\n      snackbar: false,\n      timeout: 2000,\n    }),\n\n    methods: {\n      onSubmit () {\n        if (!this.form) return\n\n        this.loading = true\n\n        setTimeout(() => (this.loading = false), 2000)\n      },\n      required (v) {\n        return !!v || 'Field is required'\n      },\n      async registerClick(){\n        try{\n          await AuthenticationService.register({\n              username: this.username,\n              password: this.password,\n              permission: \"user\"\n          }).then((response)=> {\n                console.log(response)\n                if(response.statusText == \"OK\"){\n                  this.$store.commit('setUserName', response.data.username)\n                  this.$store.commit('setPermission', response.data.permission)\n                  this.$store.commit('setIsUserLoggedIn', true)\n                  console.log(this.$store.state.username)\n                  console.log(this.$store.state.permission)\n                  console.log(this.$store.state.isUserLoggedIn)\n                  this.clearFields()\n                  this.snackbar = true\n                  setTimeout(() => (router.push('/')), 2000)\n                }\n              }\n          )\n        }\n        catch(err){\n          console.log(err)\n          console.log(err.response.data.error)\n          this.showError(err.response.data.error)\n        }\n      },\n      clearFields(){\n        this.password = \"\"\n        this.username = \"\"\n        this.passwordConfirm = \"\"\n      },\n      showError(errorText){\n        this.alertMessage = errorText;\n        this.showAlert = true;\n      }\n    },\n    watch: {\n    password: function () {\n      if(this.password != this.passwordConfirm){\n        this.showError(\"Password and Confirm Password must be same\")\n      }\n      else{\n        this.showAlert = false;\n      }\n    },\n    passwordConfirm: function () {\n      if(this.password != this.passwordConfirm){\n        this.showError(\"Password and Confirm Password must be same\")\n      }\n      else{\n        this.showAlert = false;\n      }\n    }\n  }\n  }\n</script>\n"],"mappings":";gCAEIA,mBAAA,CAAqC;EAAjCC,KAAK,EAAC;AAAa,GAAC,UAAQ;gCAChCD,mBAAA,CAAK;gCA6CDA,mBAAA,CAAK;gCAeLA,mBAAA,CAAK;;;;;;;;;;uBA9DXE,YAAA,CAqFUC,kBAAA;sBApFR,MAAqC,CAArCC,UAAqC,EACrCC,UAAK,EACLC,YAAA,CAyESC,iBAAA;MAzEDN,KAAK,EAAC,mBAAmB;MAAC,WAAS,EAAC;;wBAC1C,MAuES,CAvETK,YAAA,CAuESE,iBAAA;oBAtEEC,IAAA,CAAAC,IAAI;mEAAJD,IAAA,CAAAC,IAAI,GAAAC,MAAA;QACZC,QAAM,EAAAC,cAAA,CAAUC,QAAA,CAAAF,QAAQ;;0BAEzB,MAOgB,CAPhBN,YAAA,CAOgBS,uBAAA;sBANLN,IAAA,CAAAO,QAAQ;qEAARP,IAAA,CAAAO,QAAQ,GAAAL,MAAA;UAChBM,QAAQ,EAAER,IAAA,CAAAS,OAAO;UACjBC,KAAK,GAAGL,QAAA,CAAAM,QAAQ;UACjBnB,KAAK,EAAC,MAAM;UACZoB,SAAS,EAAT,EAAS;UACTC,KAAK,EAAC;sEAGRhB,YAAA,CAQgBS,uBAAA;sBAPLN,IAAA,CAAAc,QAAQ;qEAARd,IAAA,CAAAc,QAAQ,GAAAZ,MAAA;UAChBM,QAAQ,EAAER,IAAA,CAAAS,OAAO;UACjBC,KAAK,GAAGL,QAAA,CAAAM,QAAQ;UACjBC,SAAS,EAAT,EAAS;UACTC,KAAK,EAAC,UAAU;UAChBE,WAAW,EAAC,qBAAqB;UACjCC,IAAI,EAAJ;sEAGFnB,YAAA,CAOgBS,uBAAA;sBANLN,IAAA,CAAAiB,eAAe;qEAAfjB,IAAA,CAAAiB,eAAe,GAAAf,MAAA;UACvBM,QAAQ,EAAER,IAAA,CAAAS,OAAO;UACjBC,KAAK,GAAGL,QAAA,CAAAM,QAAQ;UACjBC,SAAS,EAAT,EAAS;UACTC,KAAK,EAAC,kBAAkB;UACxBE,WAAW,EAAC;sFAGdlB,YAAA,CASUqB,kBAAA;UARRC,OAAO,EAAC,UAAU;UAClBC,IAAI,EAAC,SAAS;UACdC,SAAS,EAAT,EAAS;UACTC,MAAM,EAAC,KAAK;UACZC,KAAK,EAAC;;4BAGN,MAAgB,C,kCAAdvB,IAAA,CAAAwB,YAAY,iB;;;4CAFNxB,IAAA,CAAAyB,SAAS,E,GAKnBC,UAAK,EAEL7B,YAAA,CAYQ8B,gBAAA;UAXLC,QAAQ,GAAG5B,IAAA,CAAAC,IAAI;UACfQ,OAAO,EAAET,IAAA,CAAAS,OAAO;UACjBoB,KAAK,EAAL,EAAK;UACLC,KAAK,EAAC,SAAS;UACfC,IAAI,EAAC,OAAO;UACZX,IAAI,EAAC,QAAQ;UACbD,OAAO,EAAC,UAAU;UAClBa,OAAO,EAAC,IAAI;UACXC,OAAK,EAAE5B,QAAA,CAAA6B;;4BACT,MAED,C,iBAFC,YAED,E;;+DACAC,UAAK,EAELtC,YAAA,CASQ8B,gBAAA;UARNE,KAAK,EAAL,EAAK;UACLC,KAAK,EAAC,SAAS;UACfC,IAAI,EAAC,OAAO;UACZZ,OAAO,EAAC,OAAO;UACfa,OAAO,EAAC,IAAI;UACZI,EAAE,EAAE;;4BACL,MAED,C,iBAFC,cAED,E;;;;;;;QAKJvC,YAAA,CAKawC,qBAAA;kBAJFrC,IAAA,CAAAsC,QAAQ;iEAARtC,IAAA,CAAAsC,QAAQ,GAAApC,MAAA;MAChBqC,OAAO,EAAEvC,IAAA,CAAAuC;;wBACX,MAED,C,iBAFC,2DAED,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}